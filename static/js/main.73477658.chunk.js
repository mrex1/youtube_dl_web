(this.webpackJsonpyoutube_dl_web=this.webpackJsonpyoutube_dl_web||[]).push([[0],{76:function(e,t,n){},78:function(e,t,n){},79:function(e,t,n){},86:function(e,t,n){},87:function(e,t,n){},90:function(e,t,n){},91:function(e,t,n){"use strict";n.r(t);var c=n(0),a=n.n(c),i=n(13),s=n.n(i),r=(n(76),n(19)),o=n.n(r),l=n(27),u=n(12),d=(n(78),n(118)),j=n(54),b=n.n(j),h=(n(79),n(2)),f=function(e){var t=e.video,n=e.setVideo,a=t.title,i=t.videoId,s=t.thumbnailUrl,r=Object(c.useCallback)((function(){n(t.videoId)}),[t,n]);return Object(h.jsxs)("div",{className:"video-list-item-container",children:[Object(h.jsx)("img",{src:s,alt:"thumbnail",loading:"lazy"}),Object(h.jsxs)("div",{className:"content",children:[Object(h.jsx)("div",{className:"title",children:a}),Object(h.jsx)("div",{className:"subtitle",children:i})]}),Object(h.jsx)(d.a,{onClick:r,color:"secondary",children:Object(h.jsx)(b.a,{})})]})},v=function(e){var t=e.videos,n=e.setVideo,c=e.className,a=e.spaceBottom;return Object(h.jsxs)("div",{className:c,style:{height:"100%",overflow:"auto"},children:[t&&t.map((function(e){return Object(h.jsx)(f,{video:e,setVideo:n},e.videoId)})),a&&Object(h.jsx)("div",{style:{height:150}})]})},O=n(121),x=n(114),p=n(120),y=n(115),m=n(93),g=n(56),k=n.n(g),C=n(55),I=n.n(C),S=n(57),w=n.n(S),V=(n(86),function(e){var t=e.onChange,n=e.onSubmit,a=Object(c.useState)(""),i=Object(u.a)(a,2),s=i[0],r=i[1],o=Object(c.useState)(!1),l=Object(u.a)(o,2),j=l[0],b=l[1],f=Object(c.useCallback)((function(e){13===e.charCode&&(n(),e.target.blur())}),[n]),v=Object(c.useCallback)((function(e){r(e.target.value),t(e)}),[t]),g=Object(c.useCallback)((function(){r("")}),[]),C=Object(c.useCallback)((function(){b(!1)}),[]),S=Object(c.useCallback)((function(){b(!0)}),[]);return Object(h.jsx)(O.a,{position:"static",children:j?Object(h.jsxs)(x.a,{children:[Object(h.jsx)(d.a,{color:"secondary",edge:"start",onClick:C,children:Object(h.jsx)(I.a,{})}),Object(h.jsx)(p.a,{color:"secondary",style:{color:"white"},placeholder:"Search",value:s,onChange:v,onKeyPress:f,fullWidth:!0,endAdornment:Object(h.jsx)(y.a,{position:"end",children:Object(h.jsx)(d.a,{"aria-label":"clear input",color:"secondary",onClick:g,children:Object(h.jsx)(k.a,{})})})})]}):Object(h.jsxs)(x.a,{children:[Object(h.jsx)(m.a,{style:{flex:1},children:"ListenTube"}),Object(h.jsx)(d.a,{color:"secondary",onClick:S,children:Object(h.jsx)(w.a,{})})]})})}),N=n(4),D=(n(87),n(116)),E=n(67),A=n.n(E),_=n(66),L=n.n(_),T=(n(88),n(68)),B="https://main-youtube-shd6uy5b29ceuriw-gtw.qovery.io",U=Object(T.a)({palette:{primary:{light:"#303030",main:"#000",dark:"#303030",contrastText:"#ffa600"},secondary:{light:"#fff",main:"#ffa600",dark:"#fff",contrastText:"#fff"}}}),F=n(122),M=n(119),P=n(64),W=n.n(P),z=n(63),J=n.n(z),R=function(e,t){return String(e).padStart(t,"0")},q=function(e){return"".concat(R(Math.floor(e/60),2),":").concat(R(e%60,2))},K=n(58),G=n(45),H=n(46),Q=new(function(){function e(t){Object(G.a)(this,e),this.url=void 0,this.cache=void 0,this.url=t,this.cache={}}return Object(H.a)(e,[{key:"getInfo",value:function(){var e=Object(l.a)(o.a.mark((function e(t){var n,c,a;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(n=this.cache[t])){e.next=3;break}return e.abrupt("return",n);case 3:return e.next=5,fetch("".concat(this.url,"/info/").concat(t));case 5:return c=e.sent,e.next=8,c.json();case 8:return(a=e.sent).videoDetails.lengthSeconds=parseInt(a.videoDetails.lengthSeconds),a.videoDetails.thumbnailUrl=a.videoDetails.thumbnail.thumbnails[0].url,this.cache[t]=a,a.related_videos=a.related_videos.map((function(e){return{videoId:e.id,thumbnailUrl:e.thumbnails[0].url,title:e.title,author:e.author.name,lengthSeconds:e.length_seconds}})),e.abrupt("return",a);case 14:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getAudio",value:function(e){var t="".concat(this.url,"/stream/").concat(e);return new Audio(t)}},{key:"search",value:function(){var e=Object(l.a)(o.a.mark((function e(t){var n,c,a,i;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.split(" ").join("+"),e.next=3,fetch("".concat(B,"/search/")+n);case 3:return c=e.sent,e.next=6,c.json();case 6:return a=e.sent,i=a.map((function(e){return e.videoId=e.id,e.thumbnailUrl=e.thumbnail.url,e})),e.abrupt("return",i);case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}]),e}())(B),X=new(function(){function e(t,n){Object(G.a)(this,e),this.videoIds=void 0,this.videoInfos=void 0,this.current=void 0,this.api=void 0,this.videoIds=n||[],this.current=-1,this.videoInfos={},this.api=t,this.add=this.add.bind(this),this.next=this.next.bind(this)}return Object(H.a)(e,[{key:"add",value:function(){var e=Object(l.a)(o.a.mark((function e(t){var n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(t in this.videoInfos)){e.next=2;break}return e.abrupt("return");case 2:return this.videoIds.push(t),e.next=5,this.api.getInfo(t);case 5:n=e.sent,this.videoInfos[t]=n;case 7:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"playlistVideos",get:function(){var e=this;return this.videoIds.map((function(t){return e.videoInfos[t]}))}},{key:"setCurByVid",value:function(e){var t=this.videoIds.indexOf(e);if(-1!==t)return this.current=t,this.current}},{key:"next",value:function(){if(this.current<this.videoIds.length-1)return this.current+=1,this.current}},{key:"suggest",value:function(){if(!(-1===this.current||this.current>=this.videoIds.length)){var e,t=Object(K.a)(this.playlistVideos[this.current].related_videos);try{for(t.s();!(e=t.n()).done;){var n=e.value;if(-1===this.videoIds.indexOf(n.videoId))return n.videoId}}catch(c){t.e(c)}finally{t.f()}}}}]),e}())(Q),Y=n(60),Z=n.n(Y),$=n(59),ee=n.n($),te=n(61),ne=n.n(te),ce=function(e){var t=e.videoDetails,n=e.onVideoEnd,a=e.onVideoStart,i=e.autoplay,s=e.setAutoplay,r=Object(c.useState)(!1),o=Object(u.a)(r,2),l=o[0],j=o[1],b=Object(c.useState)(null),f=Object(u.a)(b,2),v=f[0],O=f[1],x=Object(c.useState)(0),p=Object(u.a)(x,2),y=p[0],g=p[1],k=Object(c.useRef)(null),C=Object(c.useCallback)((function(){if(v!==t.videoId){O(t.videoId),k.current&&(k.current.pause(),k.current.currentTime=0);var e=Q.getAudio(t.videoId);e.addEventListener("timeupdate",(function(){g(Math.round(e.currentTime))})),e.addEventListener("ended",(function(){j(!1),n&&n()})),e.addEventListener("pause",(function(){j(!1)})),e.addEventListener("play",(function(){j(!0),a&&a()})),k.current=e,i&&e.play()}}),[t,n,a,i,v]);Object(c.useEffect)((function(){C()}),[C]);var I=Object(c.useCallback)((function(){var e=document.createElement("a");e.href="".concat(B,"/download/").concat(t.videoId),e.target="_blank",e.click()}),[t]),S=Object(c.useCallback)((function(){k.current&&(l?k.current.pause():k.current.play())}),[l]),w=Object(c.useCallback)((function(e,t){k.current&&(k.current.currentTime=t)}),[]),V=Object(c.useCallback)((function(){s(!i)}),[i,s]);return Object(h.jsxs)("div",{style:{width:"100%",background:"#000",color:"#fff",display:"flex",flexDirection:"column",boxShadow:"0px 0px 4px rgba(0,0,0,0.5)"},children:[Object(h.jsxs)("div",{style:{display:"flex",flexDirection:"row",alignItems:"center"},children:[Object(h.jsx)("span",{style:{margin:5,marginRight:15},children:q(y)}),Object(h.jsx)(F.a,{color:"secondary",onChange:w,max:t.lengthSeconds,min:0,value:y}),Object(h.jsx)("span",{style:{margin:5,marginLeft:15},children:q(t.lengthSeconds)})]}),Object(h.jsxs)("div",{style:{display:"flex",flexDirection:"row",alignItems:"center"},children:[Object(h.jsx)(d.a,{onClick:S,color:"secondary",children:l?Object(h.jsx)(ee.a,{}):Object(h.jsx)(Z.a,{})}),Object(h.jsx)(d.a,{onClick:I,color:"secondary",children:Object(h.jsx)(ne.a,{})}),Object(h.jsx)(M.a,{title:"autoplay",children:Object(h.jsx)(d.a,{onClick:V,color:"secondary",children:i?Object(h.jsx)(J.a,{}):Object(h.jsx)(W.a,{})})}),Object(h.jsxs)("div",{style:{display:"flex",flexDirection:"column",justifyContent:"center",marginLeft:5,overflow:"hidden",textOverflow:"ellipsis"},children:[Object(h.jsx)(m.a,{variant:"subtitle1",noWrap:!0,children:t.title}),Object(h.jsx)(m.a,{variant:"subtitle2",style:{color:"silver"},noWrap:!0,children:t.author})]})]})]})},ae=n(65),ie=n.n(ae),se=(n(90),function(e){var t=e.video,n=e.setVideo,a=e.playing,i=t.title,s=t.author,r=t.thumbnailUrl,o=Object(c.useCallback)((function(){n(t.videoId)}),[t,n]);return Object(h.jsxs)("div",{className:Object(N.a)("play-list-item-container",{playing:a}),children:[Object(h.jsx)("img",{src:r,alt:"thumbnail",loading:"lazy"}),Object(h.jsxs)("div",{className:"content",children:[Object(h.jsx)("div",{className:"title",children:i}),Object(h.jsx)("div",{className:"subtitle",children:s})]}),Object(h.jsx)(d.a,{className:Object(N.a)("icon",{playing:a}),onClick:o,color:"secondary",children:Object(h.jsx)(ie.a,{})})]})}),re=function(e){var t=e.playlistVideos,n=e.currentIndex,a=e.onVideoEnd,i=e.onVideoStart,s=e.playVideo,r=e.onAdd,o=e.autoplay,l=e.setAutoplay,j=Object(c.useState)(!1),b=Object(u.a)(j,2),f=b[0],O=b[1],x=Object(c.useCallback)((function(){O(!f)}),[f]);return-1!==n?Object(h.jsxs)("div",{className:Object(N.a)("playlist",{open:f}),children:[Object(h.jsxs)("div",{className:"top-section",children:[Object(h.jsx)("div",{className:"player-container",children:n>=t.length?Object(h.jsx)(D.a,{}):Object(h.jsx)(ce,{autoplay:o,setAutoplay:l,videoDetails:t[n].videoDetails,onVideoEnd:a,onVideoStart:i})}),Object(h.jsx)(d.a,{onClick:x,color:"secondary",children:f?Object(h.jsx)(L.a,{}):Object(h.jsx)(A.a,{})})]}),Object(h.jsxs)("div",{className:"lists-container",children:[Object(h.jsx)("div",{className:Object(N.a)("list"),children:t.map((function(e,t){return Object(h.jsx)(se,{video:e.videoDetails,setVideo:function(){return s(t)},playing:t===n},"playlist".concat(t))}))}),Object(h.jsx)(m.a,{className:Object(N.a)("divider"),variant:"h5",component:"h5",children:"Suggested"}),n<t.length&&Object(h.jsx)(v,{className:Object(N.a)("list"),videos:t[n].related_videos,setVideo:r})]})]}):null},oe=n(117);var le=function(){var e=Object(c.useState)([]),t=Object(u.a)(e,2),n=t[0],a=t[1],i=Object(c.useState)(!0),s=Object(u.a)(i,2),r=s[0],d=s[1],j=Object(c.useState)(!0),b=Object(u.a)(j,2),f=b[0],O=b[1],x=Object(c.useState)(!1),p=Object(u.a)(x,2),y=p[0],m=p[1],g=Object(c.useState)([]),k=Object(u.a)(g,2),C=k[0],I=k[1],S=Object(c.useState)(-1),w=Object(u.a)(S,2),N=w[0],E=w[1],A=Object(c.useState)(""),_=Object(u.a)(A,2),L=_[0],T=_[1],B=Object(c.useCallback)((function(e){var t=e.target.value;T(t)}),[]),F=Object(c.useCallback)((function(){(function(){var e=Object(l.a)(o.a.mark((function e(){var t;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,m(!0),e.next=4,Q.search(L);case 4:t=e.sent,a(t),m(!1),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),console.log(e.t0);case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(){return e.apply(this,arguments)}})()()}),[L]),M=Object(c.useCallback)((function(e){if(X.add(e).then((function(){return I(X.playlistVideos)})),r&&f){d(!1);var t=X.setCurByVid(e);void 0!==t&&E(t)}}),[r,f]);Object(c.useEffect)((function(){if(r&&f&&X.playlistVideos.length>0){var e=X.next();if(void 0!==e)return E(e);var t=X.suggest();t&&M(t)}}),[r,f,M]);var P=Object(c.useCallback)((function(){d(!0)}),[]),W=Object(c.useCallback)((function(){d(!1)}),[]),z=Object(c.useCallback)((function(e){X.current=e,E(e)}),[]);return Object(h.jsx)(oe.a,{theme:U,children:Object(h.jsxs)("div",{className:"background",style:{height:"100vh",overflow:"hidden"},children:[Object(h.jsx)(V,{onChange:B,onSubmit:F}),y?Object(h.jsx)(D.a,{}):Object(h.jsx)(v,{spaceBottom:!0,videos:n,setVideo:M}),Object(h.jsx)(re,{autoplay:f,setAutoplay:O,playVideo:z,onAdd:M,playlistVideos:C,currentIndex:N,onVideoEnd:P,onVideoStart:W})]})})},ue=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,123)).then((function(t){var n=t.getCLS,c=t.getFID,a=t.getFCP,i=t.getLCP,s=t.getTTFB;n(e),c(e),a(e),i(e),s(e)}))};s.a.render(Object(h.jsx)(a.a.StrictMode,{children:Object(h.jsx)(le,{})}),document.getElementById("root")),ue()}},[[91,1,2]]]);
//# sourceMappingURL=main.73477658.chunk.js.map