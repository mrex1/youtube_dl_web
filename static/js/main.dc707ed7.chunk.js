(this.webpackJsonpyoutube_dl_web=this.webpackJsonpyoutube_dl_web||[]).push([[0],{76:function(e,t,n){},78:function(e,t,n){},81:function(e,t,n){},86:function(e,t,n){},87:function(e,t,n){},88:function(e,t,n){},90:function(e,t,n){},91:function(e,t,n){"use strict";n.r(t);var a=n(0),c=n.n(a),i=n(14),r=n.n(i),s=(n(76),n(13)),o=n.n(s),u=n(20),l=n(9),d=(n(78),function(e,t){return String(e).padStart(t,"0")}),b=function(e){if(null===e)return 0;for(var t=e.split(":"),n=0,a=1,c=0;c<t.length;c++)n+=parseInt(t[t.length-1-c])*a,a*=60;return n},j=function(e){return e.thumbnail},h=n(119),f=n(49),O=n(43),p=n(44),v=n(68),x="https://zb3ad4304-gtw.qovery.io",y=Object(v.a)({palette:{primary:{light:"#303030",main:"#000",dark:"#303030",contrastText:"#ffa600"},secondary:{light:"#fff",main:"#ffa600",dark:"#fff",contrastText:"#fff"}}}),g=new(function(){function e(t){Object(O.a)(this,e),this.url=void 0,this.cache=void 0,this.suggestionsCache=void 0,this.url=t,this.cache={},this.suggestionsCache={}}return Object(p.a)(e,[{key:"getYoutubeLink",value:function(e){return"https://youtu.be/".concat(e)}},{key:"getInfo",value:function(e){return this.cache[e]}},{key:"getAudioURL",value:function(e){return"".concat(this.url,"/stream/v2?vid=").concat(e)}},{key:"getAudioDownloadLink",value:function(e){var t=document.createElement("a");return t.href="".concat(this.url,"/download?vid=").concat(e),t.target="_blank",t}},{key:"suggest",value:function(){var e=Object(u.a)(o.a.mark((function e(t){var n,a,c=this;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(t in this.suggestionsCache)){e.next=2;break}return e.abrupt("return",this.suggestionsCache[t]);case 2:return e.prev=2,e.next=5,fetch("".concat(x,"/suggest?vid=").concat(t));case 5:return n=e.sent,e.next=8,n.json();case 8:return(a=e.sent).forEach((function(e){e.id in c.cache||(c.cache[e.id]=e)})),this.suggestionsCache[t]=a,e.abrupt("return",a);case 14:return e.prev=14,e.t0=e.catch(2),e.abrupt("return",null);case 17:case"end":return e.stop()}}),e,this,[[2,14]])})));return function(t){return e.apply(this,arguments)}}()},{key:"search",value:function(){var e=Object(u.a)(o.a.mark((function e(t){var n,a,c,i=this;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=encodeURIComponent(t.replace(" ","+")),e.prev=1,e.next=4,fetch("".concat(x,"/search?q=").concat(n));case 4:return a=e.sent,e.next=7,a.json();case 7:return(c=e.sent).items.forEach((function(e){"video"===e.type&&(i.cache[e.id]=e)})),e.abrupt("return",c);case 12:return e.prev=12,e.t0=e.catch(1),e.abrupt("return",null);case 15:case"end":return e.stop()}}),e,null,[[1,12]])})));return function(t){return e.apply(this,arguments)}}()},{key:"searchContinue",value:function(){var e=Object(u.a)(o.a.mark((function e(t){var n,a,c=this;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("".concat(x,"/search"),{method:"post",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)});case 3:return n=e.sent,e.next=6,n.json();case 6:return(a=e.sent).items.forEach((function(e){"video"===e.type&&(c.cache[e.id]=e)})),e.abrupt("return",a);case 11:return e.prev=11,e.t0=e.catch(0),e.abrupt("return",null);case 14:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(t){return e.apply(this,arguments)}}()}]),e}())(x),m=new(function(){function e(t,n){Object(O.a)(this,e),this.videoIds=void 0,this.current=void 0,this.api=void 0,this.videoIds=n||[],this.current=-1,this.api=t,this.add=this.add.bind(this),this.next=this.next.bind(this)}return Object(p.a)(e,[{key:"add",value:function(e){-1===this.videoIds.indexOf(e)&&this.videoIds.push(e)}},{key:"playlistVideos",get:function(){var e=this;return this.videoIds.map((function(t){return e.api.getInfo(t)}))}},{key:"setCurByVid",value:function(e){var t=this.videoIds.indexOf(e);if(-1!==t)return this.current=t,this.current}},{key:"next",value:function(){var e=Object(u.a)(o.a.mark((function e(){var t;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(this.current<this.videoIds.length-1)){e.next=3;break}return this.current+=1,e.abrupt("return",this.current);case 3:return e.next=5,this.suggest(this.videoIds[this.current]);case 5:if(!(t=e.sent)){e.next=11;break}return this.add(t),e.next=10,this.next();case 10:return e.abrupt("return",e.sent);case 11:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"suggest",value:function(){var e=Object(u.a)(o.a.mark((function e(t){var n,a,c,i;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.api.suggest(t);case 2:if(!(n=e.sent)){e.next=21;break}a=Object(f.a)(n),e.prev=5,a.s();case 7:if((c=a.n()).done){e.next=13;break}if(i=c.value,-1!==this.videoIds.indexOf(i.id)){e.next=11;break}return e.abrupt("return",i.id);case 11:e.next=7;break;case 13:e.next=18;break;case 15:e.prev=15,e.t0=e.catch(5),a.e(e.t0);case 18:return e.prev=18,a.f(),e.finish(18);case 21:case"end":return e.stop()}}),e,this,[[5,15,18,21]])})));return function(t){return e.apply(this,arguments)}}()}]),e}())(g),k=new(function(){function e(t,n){Object(O.a)(this,e),this.audio=void 0,this.vid=void 0,this.api=void 0,this.api=t,this.audio=new Audio,n&&this.updateAudio(n)}return Object(p.a)(e,[{key:"updateAudio",value:function(e){if(e!==this.vid){this.vid=e;var t=this.api.getAudioURL(e);this.audio.src=t}}}]),e}())(g),C=n(55),S=n.n(C),w=(n(81),n(2)),V=function(e){var t=e.video,n=e.setVideo,c=t.title,i=t.id,r=j(t)?t.thumbnail.url:t.bestThumbnail.url,s=Object(a.useCallback)((function(){n(t.id)}),[t,n]);return Object(w.jsxs)("div",{className:"video-list-item-container",children:[r&&Object(w.jsx)("img",{src:r,alt:"thumbnail",loading:"lazy"}),Object(w.jsxs)("div",{className:"content",children:[Object(w.jsx)("div",{className:"title",children:c}),Object(w.jsx)("a",{className:"subtitle",href:g.getYoutubeLink(i),target:"_blank",rel:"noreferrer",children:"Open in YouTube"})]}),Object(w.jsx)(h.a,{onClick:s,color:"secondary",children:Object(w.jsx)(S.a,{})})]})},N=n(114),I=function(e){var t=e.videos,n=e.setVideo,c=e.className,i=e.spaceBottom,r=e.loadVideos,s=Object(a.useState)(!1),o=Object(l.a)(s,2),u=o[0],d=o[1],b=Object(a.useCallback)((function(e){var t=e.currentTarget;r&&!u&&t.scrollHeight-t.offsetHeight-t.scrollTop<2&&(d(!0),r().then((function(){return d(!1)})))}),[r,u]);return Object(w.jsxs)("div",{className:c,onScroll:b,children:[t.map((function(e){return Object(w.jsx)(V,{video:e,setVideo:n},e.id)})),u&&Object(w.jsx)(N.a,{}),i&&Object(w.jsx)("div",{style:{height:100}})]})},A=n(122),E=n(115),T=n(121),L=n(116),B=n(93),_=n(57),D=n.n(_),z=n(56),F=n.n(z),M=n(58),R=n.n(M),J=(n(86),function(e){var t=e.onChange,n=e.onSubmit,c=Object(a.useState)(""),i=Object(l.a)(c,2),r=i[0],s=i[1],o=Object(a.useState)(!1),u=Object(l.a)(o,2),d=u[0],b=u[1],j=Object(a.useCallback)((function(e){13===e.charCode&&(n(),e.target.blur())}),[n]),f=Object(a.useCallback)((function(e){s(e.target.value),t(e)}),[t]),O=Object(a.useCallback)((function(){s("")}),[]),p=Object(a.useCallback)((function(){b(!1)}),[]),v=Object(a.useCallback)((function(){b(!0)}),[]);return Object(w.jsx)(A.a,{position:"static",children:d?Object(w.jsxs)(E.a,{children:[Object(w.jsx)(h.a,{color:"secondary",edge:"start",onClick:p,children:Object(w.jsx)(F.a,{})}),Object(w.jsx)(T.a,{color:"secondary",style:{color:"white"},placeholder:"Search",value:r,onChange:f,onKeyPress:j,fullWidth:!0,endAdornment:Object(w.jsx)(L.a,{position:"end",children:Object(w.jsx)(h.a,{"aria-label":"clear input",color:"secondary",onClick:O,children:Object(w.jsx)(D.a,{})})})})]}):Object(w.jsxs)(E.a,{children:[Object(w.jsx)(B.a,{style:{flex:1},children:"ListenTube"}),Object(w.jsx)(h.a,{color:"secondary",onClick:v,children:Object(w.jsx)(R.a,{})})]})})}),P=n(3),U=(n(87),n(67)),W=n.n(U),Y=n(66),q=n.n(Y),H=n(123),K=n(117),G=n(120),Q=n(64),X=n.n(Q),Z=n(63),$=n.n(Z),ee=n(60),te=n.n(ee),ne=n(59),ae=n.n(ne),ce=n(61),ie=n.n(ce),re=(n(88),function(e){var t,n=e.videoDetails,c=e.onVideoEnd,i=e.onVideoStart,r=e.autoplay,s=e.setAutoplay,o=Object(a.useState)(!1),u=Object(l.a)(o,2),j=u[0],f=u[1],O=Object(a.useState)(null),p=Object(l.a)(O,2),v=p[0],x=p[1],y=Object(a.useState)(!1),m=Object(l.a)(y,2),C=m[0],S=m[1],V=Object(a.useState)(0),N=Object(l.a)(V,2),I=N[0],A=N[1];Object(a.useEffect)((function(){k.audio.ontimeupdate=function(){return A(Math.ceil(k.audio.currentTime))},k.audio.onpause=function(){return f(!1)},k.audio.onloadeddata=function(){return S(!1)},k.audio.onloadstart=function(){return S(!0)}}),[]),Object(a.useEffect)((function(){k.audio.onplay=function(){f(!0),i&&i()},k.audio.onended=function(){f(!1),c&&c()}}),[i,c]);var E=Object(a.useCallback)((function(e){x(e.id),k.updateAudio(e.id),A(0),r&&k.audio.play().catch(console.log)}),[r]);Object(a.useEffect)((function(){v!==n.id&&E(n)}),[E,v,n]);var T,L=Object(a.useCallback)((function(){g.getAudioDownloadLink(n.id).click()}),[n]),_=Object(a.useCallback)((function(){j?k.audio.pause():k.audio.play()}),[j]),D=Object(a.useCallback)((function(e,t){k.audio.currentTime=t}),[]),z=Object(a.useCallback)((function(){s(!r)}),[r,s]);return Object(w.jsxs)("div",{className:"player-container",children:[Object(w.jsxs)("div",{className:"player-progress-container",children:[Object(w.jsx)("span",{style:{margin:5,marginRight:15},children:(T=I,T=Math.ceil(T),"".concat(d(Math.floor(T/60),2),":").concat(d(T%60,2)))}),Object(w.jsx)(H.a,{color:"secondary",onChange:D,max:b(n.duration),min:0,value:I}),Object(w.jsx)("span",{style:{margin:5,marginLeft:15},children:n.duration})]}),Object(w.jsxs)("div",{className:"player-bottom-container",children:[C?Object(w.jsx)("div",{style:{padding:12},children:Object(w.jsx)(K.a,{color:"secondary",size:22})}):Object(w.jsx)(h.a,{onClick:_,color:"secondary",children:j?Object(w.jsx)(ae.a,{}):Object(w.jsx)(te.a,{})}),Object(w.jsx)(h.a,{onClick:L,color:"secondary",children:Object(w.jsx)(ie.a,{})}),Object(w.jsx)(G.a,{title:"autoplay",children:Object(w.jsx)(h.a,{onClick:z,color:"secondary",children:r?Object(w.jsx)($.a,{}):Object(w.jsx)(X.a,{})})}),Object(w.jsxs)("div",{className:"player-details-container",children:[Object(w.jsx)(B.a,{variant:"subtitle1",noWrap:!0,children:n.title}),Object(w.jsx)(B.a,{variant:"subtitle2",style:{color:"silver"},noWrap:!0,children:null===(t=n.author)||void 0===t?void 0:t.name})]})]})]})}),se=n(65),oe=n.n(se),ue=(n(90),function(e){var t=e.video,n=e.setVideo,c=e.playing,i=t.title,r=t.author,s=j(t)?t.thumbnail.url:t.bestThumbnail.url,o=Object(a.useCallback)((function(){n(t.id)}),[t,n]);return Object(w.jsxs)("div",{className:Object(P.a)("play-list-item-container",{playing:c}),children:[s&&Object(w.jsx)("img",{src:s,alt:"thumbnail",loading:"lazy"}),Object(w.jsxs)("div",{className:"content",children:[Object(w.jsx)("div",{className:"title",children:i}),Object(w.jsx)("div",{className:"subtitle",children:null===r||void 0===r?void 0:r.name})]}),Object(w.jsx)(h.a,{className:Object(P.a)("icon",{playing:c}),onClick:o,color:"secondary",children:Object(w.jsx)(oe.a,{})})]})}),le=function(e){var t=e.playlistVideos,n=e.currentIndex,c=e.onVideoEnd,i=e.onVideoStart,r=e.playVideo,s=e.onAdd,d=e.autoplay,b=e.setAutoplay,j=Object(a.useState)(!1),f=Object(l.a)(j,2),O=f[0],p=f[1],v=Object(a.useState)([]),x=Object(l.a)(v,2),y=x[0],m=x[1],k=Object(a.useState)(!1),C=Object(l.a)(k,2),S=C[0],V=C[1],A=Object(a.useState)(null),E=Object(l.a)(A,2),T=E[0],L=E[1],_=Object(a.useCallback)((function(){p(!O)}),[O]),D=Object(a.useCallback)(function(){var e=Object(u.a)(o.a.mark((function e(t){var n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return V(!0),e.next=3,g.suggest(t);case 3:n=e.sent,m(n||[]),V(!1);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),[]);return Object(a.useEffect)((function(){T&&D(T)}),[T,D]),Object(a.useEffect)((function(){var e;L(null===(e=t[n])||void 0===e?void 0:e.id)}),[n,t]),-1!==n?Object(w.jsxs)("div",{className:Object(P.a)("playlist",{open:O}),children:[Object(w.jsxs)("div",{className:"top-section",children:[Object(w.jsx)("div",{className:"player-container",children:n>=t.length?Object(w.jsx)(N.a,{}):Object(w.jsx)(re,{autoplay:d,setAutoplay:b,videoDetails:t[n],onVideoEnd:c,onVideoStart:i})}),Object(w.jsx)(h.a,{onClick:_,color:"secondary",children:O?Object(w.jsx)(q.a,{}):Object(w.jsx)(W.a,{})})]}),Object(w.jsxs)("div",{className:"lists-container",children:[Object(w.jsx)("div",{className:Object(P.a)("list"),children:t.map((function(e,t){return Object(w.jsx)(ue,{video:e,setVideo:function(){return r(t)},playing:t===n},"playlist".concat(t))}))}),Object(w.jsx)(B.a,{className:Object(P.a)("divider"),variant:"h5",component:"h5",children:"Suggested"}),S?Object(w.jsx)("div",{style:{paddingTop:30,paddingBottom:30},children:Object(w.jsx)(N.a,{})}):Object(w.jsx)(I,{className:Object(P.a)("list"),videos:y,setVideo:s})]})]}):null},de=n(118);var be=function(){var e=Object(a.useState)([]),t=Object(l.a)(e,2),n=t[0],c=t[1],i=Object(a.useState)(!0),r=Object(l.a)(i,2),s=r[0],d=r[1],b=Object(a.useState)(!0),j=Object(l.a)(b,2),h=j[0],f=j[1],O=Object(a.useState)(!1),p=Object(l.a)(O,2),v=p[0],x=p[1],k=Object(a.useState)([]),C=Object(l.a)(k,2),S=C[0],V=C[1],A=Object(a.useState)(null),E=Object(l.a)(A,2),T=E[0],L=E[1],B=Object(a.useState)(-1),_=Object(l.a)(B,2),D=_[0],z=_[1],F=Object(a.useState)(""),M=Object(l.a)(F,2),R=M[0],P=M[1],U=Object(a.useCallback)((function(e){var t=e.target.value;P(t)}),[]),W=Object(a.useCallback)((function(){(function(){var e=Object(u.a)(o.a.mark((function e(){var t;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,x(!0),e.next=4,g.search(R);case 4:(t=e.sent)?(c(t.items.filter((function(e){return"video"===e.type}))),L(t.continuation)):c([]),x(!1),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),console.log(e.t0);case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(){return e.apply(this,arguments)}})()()}),[R]),Y=Object(a.useCallback)((function(e){if(m.add(e),V(m.playlistVideos),s&&h){d(!1);var t=m.setCurByVid(e);void 0!==t&&z(t)}}),[s,h]);Object(a.useEffect)((function(){s&&h&&m.playlistVideos.length>0&&m.next().then((function(e){void 0!==e&&(V(m.playlistVideos),z(e))}))}),[s,h,Y]);var q=Object(a.useCallback)((function(){d(!0)}),[]),H=Object(a.useCallback)((function(){d(!1)}),[]),K=Object(a.useCallback)((function(e){m.current=e,z(e)}),[]),G=Object(a.useCallback)(Object(u.a)(o.a.mark((function e(){var t,a;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null!==T){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,g.searchContinue(T);case 4:(t=e.sent)&&(a=t.items.filter((function(e){return"video"===e.type})),c(n.concat(a)),L(t.continuation));case 6:case"end":return e.stop()}}),e)}))),[T,n]);return Object(w.jsx)(de.a,{theme:y,children:Object(w.jsxs)("div",{className:"background",style:{height:"100vh",overflow:"hidden"},children:[Object(w.jsx)(J,{onChange:U,onSubmit:W}),v?Object(w.jsx)(N.a,{}):Object(w.jsx)(I,{className:"video-list",spaceBottom:!0,videos:n,setVideo:Y,loadVideos:G}),Object(w.jsx)(le,{autoplay:h,setAutoplay:f,playVideo:K,onAdd:Y,playlistVideos:S,currentIndex:D,onVideoEnd:q,onVideoStart:H})]})})},je=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,124)).then((function(t){var n=t.getCLS,a=t.getFID,c=t.getFCP,i=t.getLCP,r=t.getTTFB;n(e),a(e),c(e),i(e),r(e)}))};r.a.render(Object(w.jsx)(c.a.StrictMode,{children:Object(w.jsx)(be,{})}),document.getElementById("root")),je()}},[[91,1,2]]]);
//# sourceMappingURL=main.dc707ed7.chunk.js.map