(this.webpackJsonpyoutube_dl_web=this.webpackJsonpyoutube_dl_web||[]).push([[0],{76:function(e,t,n){},78:function(e,t,n){},79:function(e,t,n){},86:function(e,t,n){},87:function(e,t,n){},88:function(e,t,n){},90:function(e,t,n){},91:function(e,t,n){"use strict";n.r(t);var a=n(0),c=n.n(a),i=n(14),s=n.n(i),r=(n(76),n(13)),o=n.n(r),u=n(20),l=n(9),d=(n(78),function(e,t){return String(e).padStart(t,"0")}),j=function(e){if(null===e)return 0;for(var t=e.split(":"),n=0,a=1,c=0;c<t.length;c++)n+=parseInt(t[t.length-1-c])*a,a*=60;return n},b=function(e){return e.thumbnail},h=n(119),f=n(54),O=n.n(f),v=(n(79),n(2)),p=function(e){var t=e.video,n=e.setVideo,c=t.title,i=t.id,s=b(t)?t.thumbnail.url:t.bestThumbnail.url,r=Object(a.useCallback)((function(){n(t.id)}),[t,n]);return Object(v.jsxs)("div",{className:"video-list-item-container",children:[s&&Object(v.jsx)("img",{src:s,alt:"thumbnail",loading:"lazy"}),Object(v.jsxs)("div",{className:"content",children:[Object(v.jsx)("div",{className:"title",children:c}),Object(v.jsx)("div",{className:"subtitle",children:i})]}),Object(v.jsx)(h.a,{onClick:r,color:"secondary",children:Object(v.jsx)(O.a,{})})]})},x=n(114),y=function(e){var t=e.videos,n=e.setVideo,c=e.className,i=e.spaceBottom,s=e.loadVideos,r=Object(a.useState)(!1),o=Object(l.a)(r,2),u=o[0],d=o[1],j=Object(a.useCallback)((function(e){var t=e.currentTarget;s&&!u&&t.scrollHeight-t.offsetHeight-t.scrollTop<2&&(d(!0),s().then((function(){return d(!1)})))}),[s,u]);return Object(v.jsxs)("div",{className:c,onScroll:j,children:[t.map((function(e){return Object(v.jsx)(p,{video:e,setVideo:n},e.id)})),u&&Object(v.jsx)(x.a,{}),i&&Object(v.jsx)("div",{style:{height:100}})]})},g=n(122),m=n(115),k=n(121),C=n(116),S=n(93),w=n(56),V=n.n(w),N=n(55),I=n.n(N),A=n(57),E=n.n(A),T=(n(86),function(e){var t=e.onChange,n=e.onSubmit,c=Object(a.useState)(""),i=Object(l.a)(c,2),s=i[0],r=i[1],o=Object(a.useState)(!1),u=Object(l.a)(o,2),d=u[0],j=u[1],b=Object(a.useCallback)((function(e){13===e.charCode&&(n(),e.target.blur())}),[n]),f=Object(a.useCallback)((function(e){r(e.target.value),t(e)}),[t]),O=Object(a.useCallback)((function(){r("")}),[]),p=Object(a.useCallback)((function(){j(!1)}),[]),x=Object(a.useCallback)((function(){j(!0)}),[]);return Object(v.jsx)(g.a,{position:"static",children:d?Object(v.jsxs)(m.a,{children:[Object(v.jsx)(h.a,{color:"secondary",edge:"start",onClick:p,children:Object(v.jsx)(I.a,{})}),Object(v.jsx)(k.a,{color:"secondary",style:{color:"white"},placeholder:"Search",value:s,onChange:f,onKeyPress:b,fullWidth:!0,endAdornment:Object(v.jsx)(C.a,{position:"end",children:Object(v.jsx)(h.a,{"aria-label":"clear input",color:"secondary",onClick:O,children:Object(v.jsx)(V.a,{})})})})]}):Object(v.jsxs)(m.a,{children:[Object(v.jsx)(S.a,{style:{flex:1},children:"ListenTube"}),Object(v.jsx)(h.a,{color:"secondary",onClick:x,children:Object(v.jsx)(E.a,{})})]})})}),L=n(3),B=(n(87),n(67)),D=n.n(B),_=n(66),z=n.n(_),F=n(123),M=n(117),R=n(120),J=n(64),P=n.n(J),U=n(63),W=n.n(U),q=n(58),H=n(43),K=n(44),G=n(68),Q="https://zb3ad4304-gtw.qovery.io",X=Object(G.a)({palette:{primary:{light:"#303030",main:"#000",dark:"#303030",contrastText:"#ffa600"},secondary:{light:"#fff",main:"#ffa600",dark:"#fff",contrastText:"#fff"}}}),Y=new(function(){function e(t){Object(H.a)(this,e),this.url=void 0,this.cache=void 0,this.suggestionsCache=void 0,this.url=t,this.cache={},this.suggestionsCache={}}return Object(K.a)(e,[{key:"getInfo",value:function(e){return this.cache[e]}},{key:"getAudioURL",value:function(e){return"".concat(this.url,"/stream/v2?vid=").concat(e)}},{key:"getAudioDownloadLink",value:function(e){var t=document.createElement("a");return t.href="".concat(this.url,"/download?vid=").concat(e),t.target="_blank",t}},{key:"suggest",value:function(){var e=Object(u.a)(o.a.mark((function e(t){var n,a,c=this;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(t in this.suggestionsCache)){e.next=2;break}return e.abrupt("return",this.suggestionsCache[t]);case 2:return e.prev=2,e.next=5,fetch("".concat(Q,"/suggest?vid=").concat(t));case 5:return n=e.sent,e.next=8,n.json();case 8:return(a=e.sent).forEach((function(e){e.id in c.cache||(c.cache[e.id]=e)})),this.suggestionsCache[t]=a,e.abrupt("return",a);case 14:return e.prev=14,e.t0=e.catch(2),e.abrupt("return",null);case 17:case"end":return e.stop()}}),e,this,[[2,14]])})));return function(t){return e.apply(this,arguments)}}()},{key:"search",value:function(){var e=Object(u.a)(o.a.mark((function e(t){var n,a,c,i=this;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=encodeURIComponent(t.replace(" ","+")),e.prev=1,e.next=4,fetch("".concat(Q,"/search?q=").concat(n));case 4:return a=e.sent,e.next=7,a.json();case 7:return(c=e.sent).items.forEach((function(e){"video"===e.type&&(i.cache[e.id]=e)})),e.abrupt("return",c);case 12:return e.prev=12,e.t0=e.catch(1),e.abrupt("return",null);case 15:case"end":return e.stop()}}),e,null,[[1,12]])})));return function(t){return e.apply(this,arguments)}}()},{key:"searchContinue",value:function(){var e=Object(u.a)(o.a.mark((function e(t){var n,a,c=this;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("".concat(Q,"/search"),{method:"post",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)});case 3:return n=e.sent,e.next=6,n.json();case 6:return(a=e.sent).items.forEach((function(e){"video"===e.type&&(c.cache[e.id]=e)})),e.abrupt("return",a);case 11:return e.prev=11,e.t0=e.catch(0),e.abrupt("return",null);case 14:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(t){return e.apply(this,arguments)}}()}]),e}())(Q),Z=new(function(){function e(t,n){Object(H.a)(this,e),this.videoIds=void 0,this.current=void 0,this.api=void 0,this.videoIds=n||[],this.current=-1,this.api=t,this.add=this.add.bind(this),this.next=this.next.bind(this)}return Object(K.a)(e,[{key:"add",value:function(e){-1===this.videoIds.indexOf(e)&&this.videoIds.push(e)}},{key:"playlistVideos",get:function(){var e=this;return this.videoIds.map((function(t){return e.api.getInfo(t)}))}},{key:"setCurByVid",value:function(e){var t=this.videoIds.indexOf(e);if(-1!==t)return this.current=t,this.current}},{key:"next",value:function(){var e=Object(u.a)(o.a.mark((function e(){var t;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(this.current<this.videoIds.length-1)){e.next=3;break}return this.current+=1,e.abrupt("return",this.current);case 3:return e.next=5,this.suggest(this.videoIds[this.current]);case 5:if(!(t=e.sent)){e.next=11;break}return this.add(t),e.next=10,this.next();case 10:return e.abrupt("return",e.sent);case 11:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"suggest",value:function(){var e=Object(u.a)(o.a.mark((function e(t){var n,a,c,i;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.api.suggest(t);case 2:if(!(n=e.sent)){e.next=21;break}a=Object(q.a)(n),e.prev=5,a.s();case 7:if((c=a.n()).done){e.next=13;break}if(i=c.value,-1!==this.videoIds.indexOf(i.id)){e.next=11;break}return e.abrupt("return",i.id);case 11:e.next=7;break;case 13:e.next=18;break;case 15:e.prev=15,e.t0=e.catch(5),a.e(e.t0);case 18:return e.prev=18,a.f(),e.finish(18);case 21:case"end":return e.stop()}}),e,this,[[5,15,18,21]])})));return function(t){return e.apply(this,arguments)}}()}]),e}())(Y),$=new(function(){function e(t,n){Object(H.a)(this,e),this.audio=void 0,this.vid=void 0,this.api=void 0,this.api=t,this.audio=new Audio,n&&this.updateAudio(n)}return Object(K.a)(e,[{key:"updateAudio",value:function(e){if(e!==this.vid){this.vid=e;var t=this.api.getAudioURL(e);this.audio.src=t}}}]),e}())(Y),ee=n(60),te=n.n(ee),ne=n(59),ae=n.n(ne),ce=n(61),ie=n.n(ce),se=(n(88),function(e){var t,n=e.videoDetails,c=e.onVideoEnd,i=e.onVideoStart,s=e.autoplay,r=e.setAutoplay,o=Object(a.useState)(!1),u=Object(l.a)(o,2),b=u[0],f=u[1],O=Object(a.useState)(null),p=Object(l.a)(O,2),x=p[0],y=p[1],g=Object(a.useState)(!1),m=Object(l.a)(g,2),k=m[0],C=m[1],w=Object(a.useState)(0),V=Object(l.a)(w,2),N=V[0],I=V[1];Object(a.useEffect)((function(){$.audio.ontimeupdate=function(){return I(Math.ceil($.audio.currentTime))},$.audio.onpause=function(){return f(!1)},$.audio.onloadeddata=function(){return C(!1)},$.audio.onloadstart=function(){return C(!0)}}),[]),Object(a.useEffect)((function(){$.audio.onplay=function(){f(!0),i&&i()},$.audio.onended=function(){f(!1),c&&c()}}),[i,c]);var A=Object(a.useCallback)((function(e){y(e.id),$.updateAudio(e.id),I(0),s&&$.audio.play().catch(console.log)}),[s]);Object(a.useEffect)((function(){x!==n.id&&A(n)}),[A,x,n]);var E,T=Object(a.useCallback)((function(){Y.getAudioDownloadLink(n.id).click()}),[n]),L=Object(a.useCallback)((function(){b?$.audio.pause():$.audio.play()}),[b]),B=Object(a.useCallback)((function(e,t){$.audio.currentTime=t}),[]),D=Object(a.useCallback)((function(){r(!s)}),[s,r]);return Object(v.jsxs)("div",{className:"player-container",children:[Object(v.jsxs)("div",{className:"player-progress-container",children:[Object(v.jsx)("span",{style:{margin:5,marginRight:15},children:(E=N,E=Math.ceil(E),"".concat(d(Math.floor(E/60),2),":").concat(d(E%60,2)))}),Object(v.jsx)(F.a,{color:"secondary",onChange:B,max:j(n.duration),min:0,value:N}),Object(v.jsx)("span",{style:{margin:5,marginLeft:15},children:n.duration})]}),Object(v.jsxs)("div",{className:"player-bottom-container",children:[k?Object(v.jsx)("div",{style:{padding:12},children:Object(v.jsx)(M.a,{color:"secondary",size:22})}):Object(v.jsx)(h.a,{onClick:L,color:"secondary",children:b?Object(v.jsx)(ae.a,{}):Object(v.jsx)(te.a,{})}),Object(v.jsx)(h.a,{onClick:T,color:"secondary",children:Object(v.jsx)(ie.a,{})}),Object(v.jsx)(R.a,{title:"autoplay",children:Object(v.jsx)(h.a,{onClick:D,color:"secondary",children:s?Object(v.jsx)(W.a,{}):Object(v.jsx)(P.a,{})})}),Object(v.jsxs)("div",{className:"player-details-container",children:[Object(v.jsx)(S.a,{variant:"subtitle1",noWrap:!0,children:n.title}),Object(v.jsx)(S.a,{variant:"subtitle2",style:{color:"silver"},noWrap:!0,children:null===(t=n.author)||void 0===t?void 0:t.name})]})]})]})}),re=n(65),oe=n.n(re),ue=(n(90),function(e){var t=e.video,n=e.setVideo,c=e.playing,i=t.title,s=t.author,r=b(t)?t.thumbnail.url:t.bestThumbnail.url,o=Object(a.useCallback)((function(){n(t.id)}),[t,n]);return Object(v.jsxs)("div",{className:Object(L.a)("play-list-item-container",{playing:c}),children:[r&&Object(v.jsx)("img",{src:r,alt:"thumbnail",loading:"lazy"}),Object(v.jsxs)("div",{className:"content",children:[Object(v.jsx)("div",{className:"title",children:i}),Object(v.jsx)("div",{className:"subtitle",children:null===s||void 0===s?void 0:s.name})]}),Object(v.jsx)(h.a,{className:Object(L.a)("icon",{playing:c}),onClick:o,color:"secondary",children:Object(v.jsx)(oe.a,{})})]})}),le=function(e){var t=e.playlistVideos,n=e.currentIndex,c=e.onVideoEnd,i=e.onVideoStart,s=e.playVideo,r=e.onAdd,d=e.autoplay,j=e.setAutoplay,b=Object(a.useState)(!1),f=Object(l.a)(b,2),O=f[0],p=f[1],g=Object(a.useState)([]),m=Object(l.a)(g,2),k=m[0],C=m[1],w=Object(a.useState)(!1),V=Object(l.a)(w,2),N=V[0],I=V[1],A=Object(a.useState)(null),E=Object(l.a)(A,2),T=E[0],B=E[1],_=Object(a.useCallback)((function(){p(!O)}),[O]),F=Object(a.useCallback)(function(){var e=Object(u.a)(o.a.mark((function e(t){var n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return I(!0),e.next=3,Y.suggest(t);case 3:n=e.sent,C(n||[]),I(!1);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),[]);return Object(a.useEffect)((function(){T&&F(T)}),[T,F]),Object(a.useEffect)((function(){var e;B(null===(e=t[n])||void 0===e?void 0:e.id)}),[n,t]),-1!==n?Object(v.jsxs)("div",{className:Object(L.a)("playlist",{open:O}),children:[Object(v.jsxs)("div",{className:"top-section",children:[Object(v.jsx)("div",{className:"player-container",children:n>=t.length?Object(v.jsx)(x.a,{}):Object(v.jsx)(se,{autoplay:d,setAutoplay:j,videoDetails:t[n],onVideoEnd:c,onVideoStart:i})}),Object(v.jsx)(h.a,{onClick:_,color:"secondary",children:O?Object(v.jsx)(z.a,{}):Object(v.jsx)(D.a,{})})]}),Object(v.jsxs)("div",{className:"lists-container",children:[Object(v.jsx)("div",{className:Object(L.a)("list"),children:t.map((function(e,t){return Object(v.jsx)(ue,{video:e,setVideo:function(){return s(t)},playing:t===n},"playlist".concat(t))}))}),Object(v.jsx)(S.a,{className:Object(L.a)("divider"),variant:"h5",component:"h5",children:"Suggested"}),N?Object(v.jsx)("div",{style:{paddingTop:30,paddingBottom:30},children:Object(v.jsx)(x.a,{})}):Object(v.jsx)(y,{className:Object(L.a)("list"),videos:k,setVideo:r})]})]}):null},de=n(118);var je=function(){var e=Object(a.useState)([]),t=Object(l.a)(e,2),n=t[0],c=t[1],i=Object(a.useState)(!0),s=Object(l.a)(i,2),r=s[0],d=s[1],j=Object(a.useState)(!0),b=Object(l.a)(j,2),h=b[0],f=b[1],O=Object(a.useState)(!1),p=Object(l.a)(O,2),g=p[0],m=p[1],k=Object(a.useState)([]),C=Object(l.a)(k,2),S=C[0],w=C[1],V=Object(a.useState)(null),N=Object(l.a)(V,2),I=N[0],A=N[1],E=Object(a.useState)(-1),L=Object(l.a)(E,2),B=L[0],D=L[1],_=Object(a.useState)(""),z=Object(l.a)(_,2),F=z[0],M=z[1],R=Object(a.useCallback)((function(e){var t=e.target.value;M(t)}),[]),J=Object(a.useCallback)((function(){(function(){var e=Object(u.a)(o.a.mark((function e(){var t;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,m(!0),e.next=4,Y.search(F);case 4:(t=e.sent)?(c(t.items.filter((function(e){return"video"===e.type}))),A(t.continuation)):c([]),m(!1),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),console.log(e.t0);case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(){return e.apply(this,arguments)}})()()}),[F]),P=Object(a.useCallback)((function(e){if(Z.add(e),w(Z.playlistVideos),r&&h){d(!1);var t=Z.setCurByVid(e);void 0!==t&&D(t)}}),[r,h]);Object(a.useEffect)((function(){r&&h&&Z.playlistVideos.length>0&&Z.next().then((function(e){void 0!==e&&(w(Z.playlistVideos),D(e))}))}),[r,h,P]);var U=Object(a.useCallback)((function(){d(!0)}),[]),W=Object(a.useCallback)((function(){d(!1)}),[]),q=Object(a.useCallback)((function(e){Z.current=e,D(e)}),[]),H=Object(a.useCallback)(Object(u.a)(o.a.mark((function e(){var t,a;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null!==I){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,Y.searchContinue(I);case 4:(t=e.sent)&&(a=t.items.filter((function(e){return"video"===e.type})),c(n.concat(a)),A(t.continuation));case 6:case"end":return e.stop()}}),e)}))),[I,n]);return Object(v.jsx)(de.a,{theme:X,children:Object(v.jsxs)("div",{className:"background",style:{height:"100vh",overflow:"hidden"},children:[Object(v.jsx)(T,{onChange:R,onSubmit:J}),g?Object(v.jsx)(x.a,{}):Object(v.jsx)(y,{className:"video-list",spaceBottom:!0,videos:n,setVideo:P,loadVideos:H}),Object(v.jsx)(le,{autoplay:h,setAutoplay:f,playVideo:q,onAdd:P,playlistVideos:S,currentIndex:B,onVideoEnd:U,onVideoStart:W})]})})},be=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,124)).then((function(t){var n=t.getCLS,a=t.getFID,c=t.getFCP,i=t.getLCP,s=t.getTTFB;n(e),a(e),c(e),i(e),s(e)}))};s.a.render(Object(v.jsx)(c.a.StrictMode,{children:Object(v.jsx)(je,{})}),document.getElementById("root")),be()}},[[91,1,2]]]);
//# sourceMappingURL=main.f87a3524.chunk.js.map