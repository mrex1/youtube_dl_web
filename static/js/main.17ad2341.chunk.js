(this.webpackJsonpyt_audio=this.webpackJsonpyt_audio||[]).push([[0],{79:function(e,t,n){},80:function(e,t,n){},81:function(e,t,n){},83:function(e,t,n){},87:function(e,t,n){},88:function(e,t,n){},89:function(e,t,n){},91:function(e,t,n){},92:function(e,t,n){"use strict";n.r(t);var c=n(0),a=n.n(c),i=n(16),r=n.n(i),s=(n(79),n(7)),o=n(14),u=n(8),l=(n(80),function(e,t){return String(e).padStart(t,"0")}),d=function(e){if(null===e)return 0;for(var t=e.split(":"),n=0,c=1,a=0;a<t.length;a++)n+=parseInt(t[t.length-1-a])*c,c*=60;return n},b=function(e,t){return(e/t).toFixed(1)},j=function(e){if(null===e)return"";var t=1e9,n=1e6;return e>t?"".concat(b(e,t),"B Views"):e>n?"".concat(b(e,n),"M Views"):e>1e3?"".concat(b(e,1e3),"K Views"):"".concat(e," Views")},h=function(e){return new Promise((function(t,n){return setTimeout(t,e)}))},f=n(51),O=n(33),v=n(22),p=n(67),x="http://localhost:3001",y=Object(p.a)({palette:{primary:{light:"#303030",main:"#000",dark:"#303030",contrastText:"#ffa600"},secondary:{light:"#fff",main:"#ffa600",dark:"#fff",contrastText:"#fff"}}}),k=function(){function e(t){Object(O.a)(this,e),this.url=void 0,this.cache=void 0,this.suggestionsCache=void 0,this.url=t,this.cache={},this.suggestionsCache={}}return Object(v.a)(e,[{key:"getYoutubeLink",value:function(e){return"https://youtu.be/".concat(e)}},{key:"getInfo",value:function(e){return this.cache[e]}},{key:"getAudioURL",value:function(e){return"".concat(this.url,"/stream/v2?vid=").concat(e)}},{key:"getAudioDownloadLink",value:function(e){var t=document.createElement("a");return t.href="".concat(this.url,"/download?vid=").concat(e),t.target="_blank",t}},{key:"suggest",value:function(){var e=Object(o.a)(Object(s.a)().mark((function e(t){var n,c,a=this;return Object(s.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(t in this.suggestionsCache)){e.next=2;break}return e.abrupt("return",this.suggestionsCache[t]);case 2:return e.prev=2,e.next=5,fetch("".concat(x,"/suggest?vid=").concat(t));case 5:return n=e.sent,e.next=8,n.json();case 8:return(c=e.sent).forEach((function(e){e.id in a.cache||(a.cache[e.id]=e)})),this.suggestionsCache[t]=c,e.abrupt("return",c);case 14:return e.prev=14,e.t0=e.catch(2),e.abrupt("return",null);case 17:case"end":return e.stop()}}),e,this,[[2,14]])})));return function(t){return e.apply(this,arguments)}}()},{key:"search",value:function(){var e=Object(o.a)(Object(s.a)().mark((function e(t){var n,c,a,i=this;return Object(s.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=encodeURIComponent(t.replace(" ","+")),e.prev=1,e.next=4,fetch("".concat(x,"/search?q=").concat(n));case 4:return c=e.sent,e.next=7,c.json();case 7:return(a=e.sent).items.forEach((function(e){"video"===e.type&&(i.cache[e.id]=e)})),e.abrupt("return",a);case 12:return e.prev=12,e.t0=e.catch(1),e.abrupt("return",null);case 15:case"end":return e.stop()}}),e,null,[[1,12]])})));return function(t){return e.apply(this,arguments)}}()},{key:"searchContinue",value:function(){var e=Object(o.a)(Object(s.a)().mark((function e(t){var n,c,a=this;return Object(s.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("".concat(x,"/search"),{method:"post",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)});case 3:return n=e.sent,e.next=6,n.json();case 6:return(c=e.sent).items.forEach((function(e){"video"===e.type&&(a.cache[e.id]=e)})),e.abrupt("return",c);case 11:return e.prev=11,e.t0=e.catch(0),e.abrupt("return",null);case 14:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(t){return e.apply(this,arguments)}}()},{key:"getYTPlaylist",value:function(){var e=Object(o.a)(Object(s.a)().mark((function e(t){var n,c,a=this;return Object(s.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("".concat(x,"/playlist?pid=").concat(t));case 3:return n=e.sent,e.next=6,n.json();case 6:return(c=e.sent).items.forEach((function(e){e.id in a.cache||(a.cache[e.id]=e)})),e.abrupt("return",c);case 11:return e.prev=11,e.t0=e.catch(0),e.abrupt("return",null);case 14:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(t){return e.apply(this,arguments)}}()},{key:"getYTplaylistByContinuation",value:function(){var e=Object(o.a)(Object(s.a)().mark((function e(t){var n,c,a=this;return Object(s.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("".concat(x,"/playlist"),{method:"post",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)});case 3:return n=e.sent,e.next=6,n.json();case 6:return(c=e.sent).items.forEach((function(e){e.id in a.cache||(a.cache[e.id]=e)})),e.abrupt("return",c);case 11:return e.prev=11,e.t0=e.catch(0),e.abrupt("return",null);case 14:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(t){return e.apply(this,arguments)}}()}]),e}(),m=new k(x),g=function(){function e(t,n){Object(O.a)(this,e),this.videoIds=void 0,this.current=void 0,this.api=void 0,this.videoIds=n||[],this.current=-1,this.api=t,this.add=this.add.bind(this),this.next=this.next.bind(this)}return Object(v.a)(e,[{key:"add",value:function(e){-1===this.videoIds.indexOf(e)&&this.videoIds.push(e)}},{key:"playlistVideos",get:function(){var e=this;return this.videoIds.map((function(t){return e.api.getInfo(t)}))}},{key:"setCurByVid",value:function(e){var t=this.videoIds.indexOf(e);if(-1!==t)return this.current=t,this.current}},{key:"next",value:function(){if(this.current<this.videoIds.length-1)return this.current+=1,this.current}},{key:"suggest",value:function(){var e=Object(o.a)(Object(s.a)().mark((function e(){var t,n,c,a,i;return Object(s.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.videoIds[this.current],e.next=3,this.api.suggest(t);case 3:if(!(n=e.sent)){e.next=23;break}c=Object(f.a)(n),e.prev=6,c.s();case 8:if((a=c.n()).done){e.next=15;break}if(i=a.value,!(-1===this.videoIds.indexOf(i.id))){e.next=13;break}return e.abrupt("return",i.id);case 13:e.next=8;break;case 15:e.next=20;break;case 17:e.prev=17,e.t0=e.catch(6),c.e(e.t0);case 20:return e.prev=20,c.f(),e.finish(20);case 23:case"end":return e.stop()}}),e,this,[[6,17,20,23]])})));return function(){return e.apply(this,arguments)}}()}]),e}(),C=new g(m),w=new(function(){function e(t,n){Object(O.a)(this,e),this.audio=void 0,this.vid=void 0,this.api=void 0,this.api=t,this.audio=new Audio,n&&this.updateAudio(n)}return Object(v.a)(e,[{key:"updateAudio",value:function(e){if(e!==this.vid){this.vid=e;var t=this.api.getAudioURL(e);this.audio.src=t}}},{key:"retry",value:function(){var e=this.audio.src;this.audio.src="",this.audio.src=e}}]),e}())(m),S=n(115),N=Object(c.createContext)({setVideosWithLoading:function(){var e=Object(o.a)(Object(s.a)().mark((function e(){return Object(s.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()}),V=Object(c.createContext)({playVideo:function(){},addToPlaylist:function(){},addToPlaylistThenPlay:function(){}}),T=Object(c.createContext)({autoplay:!0,setAutoplay:function(){}}),A=Object(c.createContext)({onVideoEnd:function(){},onVideoStart:function(){}}),P=n(56),I=n.n(P),E=n(45),L=n.n(E),D=(n(81),n(2)),B=function(e){var t=e.thumbnailUrl,n=e.duration;return Object(D.jsxs)("div",{className:"thumbnail-container",children:[Object(D.jsx)("img",{className:"thumbnail-img",src:t,alt:"thumbnail",loading:"lazy"}),Object(D.jsx)("span",{className:"thumbnail-txt",children:n})]})},W=n(55),M=n.n(W),F=n(3),Y=(n(83),function(e){var t=e.video,n=e.playing,a=e.onAddClick,i=e.onPlayClick,r=e.onDownloadClick,u=t.title,l=t.author,d=t.thumbnail?t.thumbnail.url:t.bestThumbnail.url,b=function(e){return e.views}(t)?t.views:null,h=Object(c.useContext)(N).setVideosWithLoading,f=Object(c.useCallback)((function(){a&&a(t.id)}),[t,a]),O=Object(c.useCallback)((function(){r&&r(t.id)}),[t,r]),v=Object(c.useCallback)((function(){i&&i(t.id)}),[t,i]),p=Object(c.useCallback)((function(e){return Object(o.a)(Object(s.a)().mark((function t(){var n,c,a,i;return Object(s.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,m.getYTPlaylist(e);case 2:return n=t.sent,c=n?n.items:[],a=null===n||void 0===n?void 0:n.continuation,i=null===n||void 0===n?void 0:n.author,t.abrupt("return",{videos:c,continuation:a,channel:i});case 7:case"end":return t.stop()}}),t)})))}),[]),x=Object(c.useCallback)((function(){t.author&&h(p(t.author.channelID))}),[h,p,t]);return Object(D.jsxs)("div",{className:Object(F.a)("video-list-item-container",{playing:n}),children:[d&&Object(D.jsx)(B,{thumbnailUrl:d,duration:t.duration}),Object(D.jsxs)("div",{className:"video-list-item-content",children:[Object(D.jsx)("div",{className:"video-list-item-title single-line",children:u}),Object(D.jsx)("div",{className:"video-list-item-subtitle single-line",onClick:x,children:null===l||void 0===l?void 0:l.name}),Object(D.jsx)("div",{className:"video-list-item-subtitle single-line",onClick:x,children:j(b)}),Object(D.jsxs)("div",{className:"video-list-item-row tools",children:[!n&&i&&Object(D.jsx)(S.a,{onClick:v,color:"secondary",children:Object(D.jsx)(M.a,{})}),a&&Object(D.jsx)(S.a,{onClick:f,color:"secondary",children:Object(D.jsx)(I.a,{})}),r&&Object(D.jsx)(S.a,{onClick:O,color:"secondary",children:Object(D.jsx)(L.a,{})})]})]})]})}),U=n(116),H=function(e){var t=e.className,n=e.spaceBottom,a=e.loadVideos,i=e.videos,r=e.children,s=Object(c.useState)(!1),o=Object(u.a)(s,2),l=o[0],d=o[1],b=Object(c.useContext)(V),j=b.addToPlaylist,h=b.addToPlaylistThenPlay,f=Object(c.useCallback)((function(e){var t=e.currentTarget;a&&!l&&t.scrollHeight-t.offsetHeight-t.scrollTop<2&&(d(!0),a().then((function(){return d(!1)})))}),[a,l]),O=Object(c.useCallback)((function(e){j(e)}),[j]),v=Object(c.useCallback)((function(e){m.getAudioDownloadLink(e).click()}),[]),p=Object(c.useCallback)((function(e){h(e)}),[h]);return Object(D.jsxs)("div",{className:t,onScroll:f,children:[r,i.map((function(e){return Object(D.jsx)(Y,{video:e,onAddClick:O,onPlayClick:p,onDownloadClick:v},e.id)})),l&&Object(D.jsx)(U.a,{}),n&&Object(D.jsx)("div",{style:{height:100}})]})},J=n(117),R=n(118),z=n(123),_=n(119),K=n(95),q=n(58),G=n.n(q),Q=n(57),X=n.n(Q),Z=n(59),$=n.n(Z),ee=(n(87),function(e){var t=e.onChange,n=e.onSubmit,a=Object(c.useState)(""),i=Object(u.a)(a,2),r=i[0],s=i[1],o=Object(c.useState)(!1),l=Object(u.a)(o,2),d=l[0],b=l[1],j=Object(c.useCallback)((function(e){13===e.charCode&&(n(),e.target.blur())}),[n]),h=Object(c.useCallback)((function(e){s(e.target.value),t(e)}),[t]),f=Object(c.useCallback)((function(){s("")}),[]),O=Object(c.useCallback)((function(){b(!1)}),[]),v=Object(c.useCallback)((function(){b(!0)}),[]);return Object(D.jsx)(J.a,{position:"static",children:d?Object(D.jsxs)(R.a,{children:[Object(D.jsx)(S.a,{color:"secondary",edge:"start",onClick:O,children:Object(D.jsx)(X.a,{})}),Object(D.jsx)(z.a,{color:"secondary",style:{color:"white"},placeholder:"Search",value:r,onChange:h,onKeyPress:j,fullWidth:!0,endAdornment:Object(D.jsx)(_.a,{position:"end",children:Object(D.jsx)(S.a,{"aria-label":"clear input",color:"secondary",onClick:f,children:Object(D.jsx)(G.a,{})})})})]}):Object(D.jsxs)(R.a,{children:[Object(D.jsx)(K.a,{style:{flex:1},children:"YT Audio"}),Object(D.jsx)(S.a,{color:"secondary",onClick:v,children:Object(D.jsx)($.a,{})})]})})}),te=(n(88),n(66)),ne=n.n(te),ce=n(65),ae=n.n(ce),ie=n(127),re=n(120),se=n(125),oe=n(126),ue=n(121),le=n(64),de=n.n(le),be=n(63),je=n.n(be),he=n(61),fe=n.n(he),Oe=n(60),ve=n.n(Oe),pe=(n(89),function(e){var t,n=e.videoDetails,a=Object(c.useState)(!1),i=Object(u.a)(a,2),r=i[0],s=i[1],o=Object(c.useState)(null),b=Object(u.a)(o,2),j=b[0],h=b[1],f=Object(c.useState)(!1),O=Object(u.a)(f,2),v=O[0],p=O[1],x=Object(c.useState)(0),y=Object(u.a)(x,2),k=y[0],g=y[1],C=Object(c.useState)(""),N=Object(u.a)(C,2),V=N[0],P=N[1],I=Object(c.useContext)(T),E=I.autoplay,B=I.setAutoplay,W=Object(c.useContext)(A),M=W.onVideoEnd,F=W.onVideoStart;Object(c.useEffect)((function(){w.audio.ontimeupdate=function(){return g(Math.ceil(w.audio.currentTime))},w.audio.onpause=function(){return s(!1)},w.audio.onloadeddata=function(){return p(!1)},w.audio.onloadstart=function(){return p(!0)}}),[]),Object(c.useEffect)((function(){return navigator.mediaSession.setActionHandler("nexttrack",(function(){w.audio.pause(),s(!1),M&&M()})),function(){navigator.mediaSession.setActionHandler("nexttrack",null)}}),[M]),Object(c.useEffect)((function(){w.audio.onplay=function(){s(!0),P(""),F&&F()},w.audio.onended=function(){s(!1),M&&M()}}),[F,M]);var Y=Object(c.useCallback)((function(e){-1!==e.message.indexOf("aborted by the user agent")||(p(!1),P("Failed to play the video"))}),[]),U=Object(c.useCallback)((function(){w.retry(),w.audio.play().catch(Y)}),[Y]),H=Object(c.useCallback)((function(){P("")}),[]),J=Object(c.useCallback)((function(e){h(e.id),w.updateAudio(e.id),g(0),E&&w.audio.play().catch(Y)}),[E,Y]);Object(c.useEffect)((function(){j!==n.id&&J(n)}),[J,j,n]);var R,z=Object(c.useCallback)((function(){m.getAudioDownloadLink(n.id).click()}),[n]),_=Object(c.useCallback)((function(){r?w.audio.pause():w.audio.play()}),[r]),q=Object(c.useCallback)((function(e,t){w.audio.currentTime=t}),[]),G=Object(c.useCallback)((function(){B(!E)}),[E,B]);return Object(D.jsxs)("div",{className:"player-container",children:[Object(D.jsxs)("div",{className:"player-progress-container",children:[Object(D.jsx)("span",{className:"player-current-time",children:(R=k,R=Math.ceil(R),"".concat(l(Math.floor(R/60),2),":").concat(l(R%60,2)))}),Object(D.jsx)(ie.a,{color:"secondary",onChange:q,max:d(n.duration),min:0,value:k}),Object(D.jsx)("span",{className:"player-end-time",children:n.duration})]}),Object(D.jsxs)("div",{className:"player-bottom-container",children:[v?Object(D.jsx)("div",{style:{padding:12},children:Object(D.jsx)(re.a,{color:"secondary",size:22})}):Object(D.jsx)(S.a,{onClick:_,color:"secondary",children:r?Object(D.jsx)(ve.a,{}):Object(D.jsx)(fe.a,{})}),Object(D.jsx)(S.a,{onClick:z,color:"secondary",children:Object(D.jsx)(L.a,{})}),Object(D.jsx)(se.a,{title:"autoplay",children:Object(D.jsx)(S.a,{onClick:G,color:"secondary",children:E?Object(D.jsx)(je.a,{}):Object(D.jsx)(de.a,{})})}),Object(D.jsxs)("div",{className:"player-details-container",children:[Object(D.jsx)(K.a,{variant:"subtitle1",noWrap:!0,children:n.title}),Object(D.jsx)(K.a,{variant:"subtitle2",style:{color:"silver"},noWrap:!0,children:null===(t=n.author)||void 0===t?void 0:t.name})]})]}),Object(D.jsx)(oe.a,{open:""!==V,onClose:H,message:V,color:"secondary",ClickAwayListenerProps:{onClickAway:function(){}},action:Object(D.jsx)(ue.a,{color:"secondary",size:"small",onClick:U,children:"Retry"})})]})}),xe=function(e){var t=e.playlistVideos,n=e.currentIndex,a=Object(c.useState)(!1),i=Object(u.a)(a,2),r=i[0],l=i[1],d=Object(c.useState)([]),b=Object(u.a)(d,2),j=b[0],h=b[1],f=Object(c.useState)(!1),O=Object(u.a)(f,2),v=O[0],p=O[1],x=Object(c.useState)(null),y=Object(u.a)(x,2),k=y[0],g=y[1],C=Object(c.useContext)(V).playVideo,w=Object(c.useCallback)((function(){l(!r)}),[r]),N=Object(c.useCallback)(function(){var e=Object(o.a)(Object(s.a)().mark((function e(t){var n;return Object(s.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return p(!0),e.next=3,m.suggest(t);case 3:n=e.sent,h(n||[]),p(!1);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),[]),T=Object(c.useCallback)((function(e){m.getAudioDownloadLink(e).click()}),[]);return Object(c.useEffect)((function(){k&&N(k)}),[k,N]),Object(c.useEffect)((function(){var e;g(null===(e=t[n])||void 0===e?void 0:e.id)}),[n,t]),Object(D.jsxs)("div",{className:Object(F.a)("playlist",{open:r}),children:[Object(D.jsxs)("div",{className:"top-section",children:[Object(D.jsx)("div",{className:"player-container",children:n>=t.length?Object(D.jsx)(U.a,{}):Object(D.jsx)(pe,{videoDetails:t[n]})}),Object(D.jsx)(S.a,{onClick:w,color:"secondary",children:r?Object(D.jsx)(ae.a,{}):Object(D.jsx)(ne.a,{})})]}),Object(D.jsxs)("div",{className:"lists-container",children:[Object(D.jsx)("div",{className:Object(F.a)("list"),children:t.map((function(e,t){return Object(D.jsx)(Y,{video:e,onPlayClick:function(){return C(t)},onDownloadClick:T,playing:t===n},"playlist".concat(t))}))}),Object(D.jsx)(K.a,{className:Object(F.a)("divider"),variant:"h5",component:"h5",children:"Suggested"}),v?Object(D.jsx)("div",{style:{paddingTop:30,paddingBottom:30},children:Object(D.jsx)(U.a,{})}):Object(D.jsx)(H,{videos:j,className:Object(F.a)("list")})]})]})},ye=n(122),ke=n(128),me=(n(91),function(e){var t=e.channelInfo;return Object(D.jsxs)("div",{className:"channel-header-container",children:[t.bestAvatar.url?Object(D.jsx)(ke.a,{className:"avatar",alt:t.name,src:t.bestAvatar.url}):Object(D.jsx)(ke.a,{className:"avatar",children:t.name[0]}),Object(D.jsx)("span",{className:"name",children:t.name})]})}),ge=15;var Ce=function(){var e=Object(c.useState)(!0),t=Object(u.a)(e,2),n=t[0],a=t[1],i=Object(c.useState)(!0),r=Object(u.a)(i,2),l=r[0],d=r[1],b=Object(c.useState)([]),j=Object(u.a)(b,2),f=j[0],O=j[1],v=Object(c.useState)(null),p=Object(u.a)(v,2),x=p[0],k=p[1],g=Object(c.useState)(""),w=Object(u.a)(g,2),S=w[0],P=w[1],I=function(){var e=Object(c.useState)(),t=Object(u.a)(e,2),n=t[0],a=t[1],i=Object(c.useState)([]),r=Object(u.a)(i,2),l=r[0],d=r[1],b=Object(c.useState)([]),j=Object(u.a)(b,2),f=j[0],O=j[1],v=Object(c.useState)(ge),p=Object(u.a)(v,2),x=p[0],y=p[1],k=Object(c.useState)(),g=Object(u.a)(k,2),C=g[0],w=g[1],S=Object(c.useState)(!1),N=Object(u.a)(S,2),V=N[0],T=N[1];Object(c.useEffect)((function(){O(l.slice(0,x))}),[l,x]);var A=Object(c.useCallback)(function(){var e=Object(o.a)(Object(s.a)().mark((function e(t){var n,c,i,r;return Object(s.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(V){e.next=19;break}return T(!0),e.prev=2,e.next=5,t();case 5:n=e.sent,c=n.videos,i=n.continuation,r=n.channel,d(c),w(i),a(r),y(ge),e.next=18;break;case 15:e.prev=15,e.t0=e.catch(2),console.log(e.t0);case 18:T(!1);case 19:case"end":return e.stop()}}),e,null,[[2,15]])})));return function(t){return e.apply(this,arguments)}}(),[V]),P=Object(c.useCallback)(function(){var e=Object(o.a)(Object(s.a)().mark((function e(t){var n,c;return Object(s.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m.searchContinue(t);case 2:if(!(n=e.sent)){e.next=6;break}return c=n.items.filter((function(e){return"video"===e.type})),e.abrupt("return",{newVideos:c,newContinuation:n.continuation});case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),[]),I=Object(c.useCallback)(function(){var e=Object(o.a)(Object(s.a)().mark((function e(t){var n,c;return Object(s.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m.getYTplaylistByContinuation(t);case 2:if(!(n=e.sent)){e.next=6;break}return c=n.items,e.abrupt("return",{newVideos:c,newContinuation:n.continuation});case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),[]),E=Object(c.useCallback)(Object(o.a)(Object(s.a)().mark((function e(){var t,c,a;return Object(s.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(l.length-x>=ge)){e.next=4;break}return e.next=3,h(500);case 3:return e.abrupt("return",y(x+ge));case 4:if(C){e.next=8;break}if(!(l.length>x)){e.next=7;break}return e.abrupt("return",y(x+ge));case 7:return e.abrupt("return");case 8:return t=n?I:P,e.next=11,t(C);case 11:(c=e.sent)&&(a=l.concat(c.newVideos),l.length>x&&y(x+ge),d(a),w(c.newContinuation));case 13:case"end":return e.stop()}}),e)}))),[C,l,n,x,P,I]);return{videos:f,channel:n,loading:V,setVideosWithLoading:A,loadMoreVideos:E}}(),E=I.videos,L=I.channel,B=I.loading,W=I.setVideosWithLoading,M=I.loadMoreVideos,F=Object(c.useCallback)((function(e){var t=e.target.value;P(t)}),[]),Y=Object(c.useCallback)(Object(o.a)(Object(s.a)().mark((function e(){var t,n,c;return Object(s.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m.search(S);case 2:return t=e.sent,n=null===t||void 0===t?void 0:t.items.filter((function(e){return"video"===e.type})),c=null===t||void 0===t?void 0:t.continuation,e.abrupt("return",{videos:n,continuation:c});case 6:case"end":return e.stop()}}),e)}))),[S]),J=Object(c.useCallback)(Object(o.a)(Object(s.a)().mark((function e(){return Object(s.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:W(Y);case 1:case"end":return e.stop()}}),e)}))),[W,Y]),R=Object(c.useCallback)((function(e){C.add(e),O(C.playlistVideos)}),[]),z=Object(c.useCallback)(Object(o.a)(Object(s.a)().mark((function e(){var t;return Object(s.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,C.suggest();case 2:(t=e.sent)&&R(t);case 4:case"end":return e.stop()}}),e)}))),[R]);Object(c.useEffect)((function(){if(n&&l&&f.length>0){var e=C.next();void 0===e?z():k(e)}}),[n,l,f,z]);var _=Object(c.useCallback)((function(){a(!0)}),[]),K=Object(c.useCallback)((function(){a(!1)}),[]),q=Object(c.useCallback)((function(e){C.current=e,k(e)}),[]),G=Object(c.useCallback)((function(e){R(e),C.setCurByVid(e),k(C.current),a(!1)}),[R]);return Object(D.jsx)(N.Provider,{value:{setVideosWithLoading:W},children:Object(D.jsx)(V.Provider,{value:{addToPlaylist:R,playVideo:q,addToPlaylistThenPlay:G},children:Object(D.jsx)(A.Provider,{value:{onVideoEnd:_,onVideoStart:K},children:Object(D.jsx)(T.Provider,{value:{autoplay:l,setAutoplay:d},children:Object(D.jsx)(ye.a,{theme:y,children:Object(D.jsxs)("div",{className:"background",children:[Object(D.jsx)(ee,{onChange:F,onSubmit:J}),B?Object(D.jsx)(U.a,{}):Object(D.jsx)(H,{className:"video-list",spaceBottom:!0,videos:E,loadVideos:M,children:L&&Object(D.jsx)(me,{channelInfo:L})}),null!==x&&Object(D.jsx)(xe,{playlistVideos:f,currentIndex:x})]})})})})})})},we=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,129)).then((function(t){var n=t.getCLS,c=t.getFID,a=t.getFCP,i=t.getLCP,r=t.getTTFB;n(e),c(e),a(e),i(e),r(e)}))};r.a.render(Object(D.jsx)(a.a.StrictMode,{children:Object(D.jsx)(Ce,{})}),document.getElementById("root")),we()}},[[92,1,2]]]);
//# sourceMappingURL=main.17ad2341.chunk.js.map