(this.webpackJsonpyt_audio=this.webpackJsonpyt_audio||[]).push([[0],{77:function(e,t,n){},79:function(e,t,n){},80:function(e,t,n){},87:function(e,t,n){},88:function(e,t,n){},89:function(e,t,n){},91:function(e,t,n){"use strict";n.r(t);var c=n(0),a=n.n(c),i=n(14),s=n.n(i),r=(n(77),n(12)),o=n.n(r),u=n(19),l=n(9),d=(n(79),function(e,t){return String(e).padStart(t,"0")}),j=function(e){if(null===e)return 0;for(var t=e.split(":"),n=0,c=1,a=0;a<t.length;a++)n+=parseInt(t[t.length-1-a])*c,c*=60;return n},b=function(e){var t=document.createElement("a");t.href=e,t.target="_blank",t.rel="no-referrer",t.click()},h=n(119),O=n(55),f=n.n(O),v=n(56),p=n.n(v),x=n(54),y=n.n(x),k=n(4),m=(n(80),n(2)),g=function(e){var t=e.video,n=e.playing,a=e.onAddClick,i=e.onPlayClick,s=e.onLaunchClick,r=t.title,o=t.author,u=t.thumbnail?t.thumbnail.url:t.bestThumbnail.url,l=Object(c.useCallback)((function(){a&&a(t.id)}),[t,a]),d=Object(c.useCallback)((function(){s&&s(t.id)}),[t,s]),j=Object(c.useCallback)((function(){i&&i(t.id)}),[t,i]);return Object(m.jsxs)("div",{className:Object(k.a)("video-list-item-container",{playing:n}),children:[u&&Object(m.jsx)("img",{src:u,className:"video-list-item-thumbnail",alt:"thumbnail",loading:"lazy"}),Object(m.jsxs)("div",{className:"video-list-item-content",children:[Object(m.jsx)("div",{className:"video-list-item-title single-line",children:r}),Object(m.jsx)("div",{className:"video-list-item-subtitle single-line",children:null===o||void 0===o?void 0:o.name}),Object(m.jsxs)("div",{className:"video-list-item-row tools",children:[i&&Object(m.jsx)(h.a,{onClick:j,color:"secondary",children:Object(m.jsx)(y.a,{})}),a&&Object(m.jsx)(h.a,{onClick:l,color:"secondary",children:Object(m.jsx)(f.a,{})}),s&&Object(m.jsx)(h.a,{onClick:d,color:"secondary",children:Object(m.jsx)(p.a,{})})]})]})]})},C=n(114),S=n(57),w=n(28),N=n(29),T=n(69),P="https://zb3ad4304-gtw.qovery.io",I=Object(T.a)({palette:{primary:{light:"#303030",main:"#000",dark:"#303030",contrastText:"#ffa600"},secondary:{light:"#fff",main:"#ffa600",dark:"#fff",contrastText:"#fff"}}}),V=new(function(){function e(t){Object(w.a)(this,e),this.url=void 0,this.cache=void 0,this.suggestionsCache=void 0,this.url=t,this.cache={},this.suggestionsCache={}}return Object(N.a)(e,[{key:"getYoutubeLink",value:function(e){return"https://youtu.be/".concat(e)}},{key:"getInfo",value:function(e){return this.cache[e]}},{key:"getAudioURL",value:function(e){return"".concat(this.url,"/stream/v2?vid=").concat(e)}},{key:"getAudioDownloadLink",value:function(e){var t=document.createElement("a");return t.href="".concat(this.url,"/download?vid=").concat(e),t.target="_blank",t}},{key:"suggest",value:function(){var e=Object(u.a)(o.a.mark((function e(t){var n,c,a=this;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(t in this.suggestionsCache)){e.next=2;break}return e.abrupt("return",this.suggestionsCache[t]);case 2:return e.prev=2,e.next=5,fetch("".concat(P,"/suggest?vid=").concat(t));case 5:return n=e.sent,e.next=8,n.json();case 8:return(c=e.sent).forEach((function(e){e.id in a.cache||(a.cache[e.id]=e)})),this.suggestionsCache[t]=c,e.abrupt("return",c);case 14:return e.prev=14,e.t0=e.catch(2),e.abrupt("return",null);case 17:case"end":return e.stop()}}),e,this,[[2,14]])})));return function(t){return e.apply(this,arguments)}}()},{key:"search",value:function(){var e=Object(u.a)(o.a.mark((function e(t){var n,c,a,i=this;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=encodeURIComponent(t.replace(" ","+")),e.prev=1,e.next=4,fetch("".concat(P,"/search?q=").concat(n));case 4:return c=e.sent,e.next=7,c.json();case 7:return(a=e.sent).items.forEach((function(e){"video"===e.type&&(i.cache[e.id]=e)})),e.abrupt("return",a);case 12:return e.prev=12,e.t0=e.catch(1),e.abrupt("return",null);case 15:case"end":return e.stop()}}),e,null,[[1,12]])})));return function(t){return e.apply(this,arguments)}}()},{key:"searchContinue",value:function(){var e=Object(u.a)(o.a.mark((function e(t){var n,c,a=this;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("".concat(P,"/search"),{method:"post",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)});case 3:return n=e.sent,e.next=6,n.json();case 6:return(c=e.sent).items.forEach((function(e){"video"===e.type&&(a.cache[e.id]=e)})),e.abrupt("return",c);case 11:return e.prev=11,e.t0=e.catch(0),e.abrupt("return",null);case 14:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(t){return e.apply(this,arguments)}}()}]),e}())(P),A=new(function(){function e(t,n){Object(w.a)(this,e),this.videoIds=void 0,this.current=void 0,this.api=void 0,this.videoIds=n||[],this.current=-1,this.api=t,this.add=this.add.bind(this),this.next=this.next.bind(this)}return Object(N.a)(e,[{key:"add",value:function(e){-1===this.videoIds.indexOf(e)&&this.videoIds.push(e)}},{key:"playlistVideos",get:function(){var e=this;return this.videoIds.map((function(t){return e.api.getInfo(t)}))}},{key:"setCurByVid",value:function(e){var t=this.videoIds.indexOf(e);if(-1!==t)return this.current=t,this.current}},{key:"next",value:function(){if(this.current<this.videoIds.length-1)return this.current+=1,this.current}},{key:"suggest",value:function(){var e=Object(u.a)(o.a.mark((function e(){var t,n,c,a,i;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.videoIds[this.current],e.next=3,this.api.suggest(t);case 3:if(!(n=e.sent)){e.next=23;break}c=Object(S.a)(n),e.prev=6,c.s();case 8:if((a=c.n()).done){e.next=15;break}if(i=a.value,!(-1===this.videoIds.indexOf(i.id))){e.next=13;break}return e.abrupt("return",i.id);case 13:e.next=8;break;case 15:e.next=20;break;case 17:e.prev=17,e.t0=e.catch(6),c.e(e.t0);case 20:return e.prev=20,c.f(),e.finish(20);case 23:case"end":return e.stop()}}),e,this,[[6,17,20,23]])})));return function(){return e.apply(this,arguments)}}()}]),e}())(V),E=new(function(){function e(t,n){Object(w.a)(this,e),this.audio=void 0,this.vid=void 0,this.api=void 0,this.api=t,this.audio=new Audio,n&&this.updateAudio(n)}return Object(N.a)(e,[{key:"updateAudio",value:function(e){if(e!==this.vid){this.vid=e;var t=this.api.getAudioURL(e);this.audio.src=t}}}]),e}())(V),L=Object(c.createContext)({videos:[]}),B=Object(c.createContext)({playVideo:function(){},addToPlaylist:function(){},addToPlaylistThenPlay:function(){}}),D=Object(c.createContext)({autoplay:!0,setAutoplay:function(){}}),F=Object(c.createContext)({onVideoEnd:function(){},onVideoStart:function(){}}),M=function(e){var t=e.className,n=e.spaceBottom,a=e.loadVideos,i=Object(c.useState)(!1),s=Object(l.a)(i,2),r=s[0],o=s[1],u=Object(c.useContext)(L).videos,d=Object(c.useContext)(B),j=d.addToPlaylist,h=d.addToPlaylistThenPlay,O=Object(c.useCallback)((function(e){var t=e.currentTarget;a&&!r&&t.scrollHeight-t.offsetHeight-t.scrollTop<2&&(o(!0),a().then((function(){return o(!1)})))}),[a,r]),f=Object(c.useCallback)((function(e){j(e)}),[j]),v=Object(c.useCallback)((function(e){var t=V.getYoutubeLink(e);b(t)}),[]),p=Object(c.useCallback)((function(e){h(e)}),[h]);return Object(m.jsxs)("div",{className:t,onScroll:O,children:[u.map((function(e){return Object(m.jsx)(g,{video:e,onAddClick:f,onPlayClick:p,onLaunchClick:v},e.id)})),r&&Object(m.jsx)(C.a,{}),n&&Object(m.jsx)("div",{style:{height:100}})]})},Y=n(122),_=n(115),z=n(121),J=n(116),R=n(93),U=n(59),W=n.n(U),q=n(58),H=n.n(q),K=n(60),G=n.n(K),Q=(n(87),function(e){var t=e.onChange,n=e.onSubmit,a=Object(c.useState)(""),i=Object(l.a)(a,2),s=i[0],r=i[1],o=Object(c.useState)(!1),u=Object(l.a)(o,2),d=u[0],j=u[1],b=Object(c.useCallback)((function(e){13===e.charCode&&(n(),e.target.blur())}),[n]),O=Object(c.useCallback)((function(e){r(e.target.value),t(e)}),[t]),f=Object(c.useCallback)((function(){r("")}),[]),v=Object(c.useCallback)((function(){j(!1)}),[]),p=Object(c.useCallback)((function(){j(!0)}),[]);return Object(m.jsx)(Y.a,{position:"static",children:d?Object(m.jsxs)(_.a,{children:[Object(m.jsx)(h.a,{color:"secondary",edge:"start",onClick:v,children:Object(m.jsx)(H.a,{})}),Object(m.jsx)(z.a,{color:"secondary",style:{color:"white"},placeholder:"Search",value:s,onChange:O,onKeyPress:b,fullWidth:!0,endAdornment:Object(m.jsx)(J.a,{position:"end",children:Object(m.jsx)(h.a,{"aria-label":"clear input",color:"secondary",onClick:f,children:Object(m.jsx)(W.a,{})})})})]}):Object(m.jsxs)(_.a,{children:[Object(m.jsx)(R.a,{style:{flex:1},children:"YT Audio"}),Object(m.jsx)(h.a,{color:"secondary",onClick:p,children:Object(m.jsx)(G.a,{})})]})})}),X=(n(88),n(68)),Z=n.n(X),$=n(67),ee=n.n($),te=n(123),ne=n(117),ce=n(120),ae=n(66),ie=n.n(ae),se=n(65),re=n.n(se),oe=n(62),ue=n.n(oe),le=n(61),de=n.n(le),je=n(63),be=n.n(je),he=(n(89),function(e){var t,n=e.videoDetails,a=Object(c.useState)(!1),i=Object(l.a)(a,2),s=i[0],r=i[1],o=Object(c.useState)(null),u=Object(l.a)(o,2),b=u[0],O=u[1],f=Object(c.useState)(!1),v=Object(l.a)(f,2),p=v[0],x=v[1],y=Object(c.useState)(0),k=Object(l.a)(y,2),g=k[0],C=k[1],S=Object(c.useContext)(D),w=S.autoplay,N=S.setAutoplay,T=Object(c.useContext)(F),P=T.onVideoEnd,I=T.onVideoStart;Object(c.useEffect)((function(){E.audio.ontimeupdate=function(){return C(Math.ceil(E.audio.currentTime))},E.audio.onpause=function(){return r(!1)},E.audio.onloadeddata=function(){return x(!1)},E.audio.onloadstart=function(){return x(!0)}}),[]),Object(c.useEffect)((function(){E.audio.onplay=function(){r(!0),I&&I()},E.audio.onended=function(){r(!1),P&&P()}}),[I,P]);var A=Object(c.useCallback)((function(e){O(e.id),E.updateAudio(e.id),C(0),w&&E.audio.play().catch(console.log)}),[w]);Object(c.useEffect)((function(){b!==n.id&&A(n)}),[A,b,n]);var L,B=Object(c.useCallback)((function(){V.getAudioDownloadLink(n.id).click()}),[n]),M=Object(c.useCallback)((function(){s?E.audio.pause():E.audio.play()}),[s]),Y=Object(c.useCallback)((function(e,t){E.audio.currentTime=t}),[]),_=Object(c.useCallback)((function(){N(!w)}),[w,N]);return Object(m.jsxs)("div",{className:"player-container",children:[Object(m.jsxs)("div",{className:"player-progress-container",children:[Object(m.jsx)("span",{className:"player-current-time",children:(L=g,L=Math.ceil(L),"".concat(d(Math.floor(L/60),2),":").concat(d(L%60,2)))}),Object(m.jsx)(te.a,{color:"secondary",onChange:Y,max:j(n.duration),min:0,value:g}),Object(m.jsx)("span",{className:"player-end-time",children:n.duration})]}),Object(m.jsxs)("div",{className:"player-bottom-container",children:[p?Object(m.jsx)("div",{style:{padding:12},children:Object(m.jsx)(ne.a,{color:"secondary",size:22})}):Object(m.jsx)(h.a,{onClick:M,color:"secondary",children:s?Object(m.jsx)(de.a,{}):Object(m.jsx)(ue.a,{})}),Object(m.jsx)(h.a,{onClick:B,color:"secondary",children:Object(m.jsx)(be.a,{})}),Object(m.jsx)(ce.a,{title:"autoplay",children:Object(m.jsx)(h.a,{onClick:_,color:"secondary",children:w?Object(m.jsx)(re.a,{}):Object(m.jsx)(ie.a,{})})}),Object(m.jsxs)("div",{className:"player-details-container",children:[Object(m.jsx)(R.a,{variant:"subtitle1",noWrap:!0,children:n.title}),Object(m.jsx)(R.a,{variant:"subtitle2",style:{color:"silver"},noWrap:!0,children:null===(t=n.author)||void 0===t?void 0:t.name})]})]})]})}),Oe=function(e){var t=e.playlistVideos,n=e.currentIndex,a=Object(c.useState)(!1),i=Object(l.a)(a,2),s=i[0],r=i[1],d=Object(c.useState)([]),j=Object(l.a)(d,2),O=j[0],f=j[1],v=Object(c.useState)(!1),p=Object(l.a)(v,2),x=p[0],y=p[1],S=Object(c.useState)(null),w=Object(l.a)(S,2),N=w[0],T=w[1],P=Object(c.useContext)(B).playVideo,I=Object(c.useCallback)((function(){r(!s)}),[s]),A=Object(c.useCallback)(function(){var e=Object(u.a)(o.a.mark((function e(t){var n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return y(!0),e.next=3,V.suggest(t);case 3:n=e.sent,f(n||[]),y(!1);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),[]),E=Object(c.useCallback)((function(e){var t=V.getYoutubeLink(e);b(t)}),[]);return Object(c.useEffect)((function(){N&&A(N)}),[N,A]),Object(c.useEffect)((function(){var e;T(null===(e=t[n])||void 0===e?void 0:e.id)}),[n,t]),Object(m.jsx)(L.Provider,{value:{videos:O},children:Object(m.jsxs)("div",{className:Object(k.a)("playlist",{open:s}),children:[Object(m.jsxs)("div",{className:"top-section",children:[Object(m.jsx)("div",{className:"player-container",children:n>=t.length?Object(m.jsx)(C.a,{}):Object(m.jsx)(he,{videoDetails:t[n]})}),Object(m.jsx)(h.a,{onClick:I,color:"secondary",children:s?Object(m.jsx)(ee.a,{}):Object(m.jsx)(Z.a,{})})]}),Object(m.jsxs)("div",{className:"lists-container",children:[Object(m.jsx)("div",{className:Object(k.a)("list"),children:t.map((function(e,t){return Object(m.jsx)(g,{video:e,onPlayClick:function(){return P(t)},onLaunchClick:E,playing:t===n},"playlist".concat(t))}))}),Object(m.jsx)(R.a,{className:Object(k.a)("divider"),variant:"h5",component:"h5",children:"Suggested"}),x?Object(m.jsx)("div",{style:{paddingTop:30,paddingBottom:30},children:Object(m.jsx)(C.a,{})}):Object(m.jsx)(M,{className:Object(k.a)("list")})]})]})})},fe=n(118);var ve=function(){var e=Object(c.useState)([]),t=Object(l.a)(e,2),n=t[0],a=t[1],i=Object(c.useState)(!0),s=Object(l.a)(i,2),r=s[0],d=s[1],j=Object(c.useState)(!0),b=Object(l.a)(j,2),h=b[0],O=b[1],f=Object(c.useState)(!1),v=Object(l.a)(f,2),p=v[0],x=v[1],y=Object(c.useState)([]),k=Object(l.a)(y,2),g=k[0],S=k[1],w=Object(c.useState)(null),N=Object(l.a)(w,2),T=N[0],P=N[1],E=Object(c.useState)(null),Y=Object(l.a)(E,2),_=Y[0],z=Y[1],J=Object(c.useState)(""),R=Object(l.a)(J,2),U=R[0],W=R[1],q=Object(c.useCallback)((function(e){var t=e.target.value;W(t)}),[]),H=Object(c.useCallback)(Object(u.a)(o.a.mark((function e(){var t;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return x(!0),e.prev=1,e.next=4,V.search(U);case 4:(t=e.sent)?(a(t.items.filter((function(e){return"video"===e.type}))),P(t.continuation)):a([]),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),console.log(e.t0);case 11:x(!1);case 12:case"end":return e.stop()}}),e,null,[[1,8]])}))),[U]),K=Object(c.useCallback)((function(e){A.add(e),S(A.playlistVideos)}),[]),G=Object(c.useCallback)(Object(u.a)(o.a.mark((function e(){var t;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,A.suggest();case 2:(t=e.sent)&&K(t);case 4:case"end":return e.stop()}}),e)}))),[K]);Object(c.useEffect)((function(){if(r&&h&&g.length>0){var e=A.next();void 0===e?G():z(e)}}),[r,h,g,G]);var X=Object(c.useCallback)((function(){d(!0)}),[]),Z=Object(c.useCallback)((function(){d(!1)}),[]),$=Object(c.useCallback)((function(e){A.current=e,z(e)}),[]),ee=Object(c.useCallback)((function(e){K(e),A.setCurByVid(e),z(A.current),d(!1)}),[K]),te=Object(c.useCallback)(Object(u.a)(o.a.mark((function e(){var t,c;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null!==T){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,V.searchContinue(T);case 4:(t=e.sent)&&(c=t.items.filter((function(e){return"video"===e.type})),a(n.concat(c)),P(t.continuation));case 6:case"end":return e.stop()}}),e)}))),[T,n]);return Object(m.jsx)(B.Provider,{value:{addToPlaylist:K,playVideo:$,addToPlaylistThenPlay:ee},children:Object(m.jsx)(F.Provider,{value:{onVideoEnd:X,onVideoStart:Z},children:Object(m.jsx)(L.Provider,{value:{videos:n},children:Object(m.jsx)(D.Provider,{value:{autoplay:h,setAutoplay:O},children:Object(m.jsx)(fe.a,{theme:I,children:Object(m.jsxs)("div",{className:"background",children:[Object(m.jsx)(Q,{onChange:q,onSubmit:H}),p?Object(m.jsx)(C.a,{}):Object(m.jsx)(M,{className:"video-list",spaceBottom:!0,loadVideos:te}),null!==_&&Object(m.jsx)(Oe,{playlistVideos:g,currentIndex:_})]})})})})})})},pe=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,124)).then((function(t){var n=t.getCLS,c=t.getFID,a=t.getFCP,i=t.getLCP,s=t.getTTFB;n(e),c(e),a(e),i(e),s(e)}))};s.a.render(Object(m.jsx)(a.a.StrictMode,{children:Object(m.jsx)(ve,{})}),document.getElementById("root")),pe()}},[[91,1,2]]]);
//# sourceMappingURL=main.c51ff690.chunk.js.map