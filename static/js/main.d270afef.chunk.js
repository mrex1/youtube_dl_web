(this.webpackJsonpyoutube_dl_web=this.webpackJsonpyoutube_dl_web||[]).push([[0],{74:function(e,t,n){},76:function(e,t,n){},77:function(e,t,n){},84:function(e,t,n){},85:function(e,t,n){},87:function(e,t,n){},88:function(e,t,n){"use strict";n.r(t);var c=n(0),a=n.n(c),i=n(13),r=n.n(i),s=(n(74),n(14)),o=n.n(s),l=n(25),u=n(11),d=(n(76),n(115)),j=n(53),b=n.n(j),h=(n(77),n(2)),f=function(e){var t=e.video,n=e.setVideo,a=t.title,i=t.id,r=t.bestThumbnail.url,s=Object(c.useCallback)((function(){n(t.id)}),[t,n]);return Object(h.jsxs)("div",{className:"video-list-item-container",children:[r&&Object(h.jsx)("img",{src:r,alt:"thumbnail",loading:"lazy"}),Object(h.jsxs)("div",{className:"content",children:[Object(h.jsx)("div",{className:"title",children:a}),Object(h.jsx)("div",{className:"subtitle",children:i})]}),Object(h.jsx)(d.a,{onClick:s,color:"secondary",children:Object(h.jsx)(b.a,{})})]})},O=n(111),v=function(e){var t=e.videos,n=e.setVideo,a=e.className,i=e.spaceBottom,r=e.loadVideos,s=Object(c.useState)(!1),o=Object(u.a)(s,2),l=o[0],d=o[1],j=Object(c.useCallback)((function(e){var t=e.currentTarget;!l&&t.scrollHeight-t.offsetHeight-t.scrollTop<2&&(d(!0),r().then((function(){return d(!1)})))}),[r,l]);return Object(h.jsxs)("div",{className:a,onScroll:j,children:[t.map((function(e){return Object(h.jsx)(f,{video:e,setVideo:n},e.id)})),l&&Object(h.jsx)(O.a,{}),i&&Object(h.jsx)("div",{style:{height:100}})]})},p=n(118),x=n(112),y=n(117),m=n(113),g=n(90),k=n(55),C=n.n(k),w=n(54),S=n.n(w),V=n(56),N=n.n(V),I=(n(84),function(e){var t=e.onChange,n=e.onSubmit,a=Object(c.useState)(""),i=Object(u.a)(a,2),r=i[0],s=i[1],o=Object(c.useState)(!1),l=Object(u.a)(o,2),j=l[0],b=l[1],f=Object(c.useCallback)((function(e){13===e.charCode&&(n(),e.target.blur())}),[n]),O=Object(c.useCallback)((function(e){s(e.target.value),t(e)}),[t]),v=Object(c.useCallback)((function(){s("")}),[]),k=Object(c.useCallback)((function(){b(!1)}),[]),w=Object(c.useCallback)((function(){b(!0)}),[]);return Object(h.jsx)(p.a,{position:"static",children:j?Object(h.jsxs)(x.a,{children:[Object(h.jsx)(d.a,{color:"secondary",edge:"start",onClick:k,children:Object(h.jsx)(S.a,{})}),Object(h.jsx)(y.a,{color:"secondary",style:{color:"white"},placeholder:"Search",value:r,onChange:O,onKeyPress:f,fullWidth:!0,endAdornment:Object(h.jsx)(m.a,{position:"end",children:Object(h.jsx)(d.a,{"aria-label":"clear input",color:"secondary",onClick:v,children:Object(h.jsx)(C.a,{})})})})]}):Object(h.jsxs)(x.a,{children:[Object(h.jsx)(g.a,{style:{flex:1},children:"ListenTube"}),Object(h.jsx)(d.a,{color:"secondary",onClick:w,children:Object(h.jsx)(N.a,{})})]})})}),E=n(4),T=(n(85),n(65)),A=n.n(T),L=n(64),D=n.n(L),B=n(66),_="https://main-youtube-shd6uy5b29ceuriw-gtw.qovery.io",F=Object(B.a)({palette:{primary:{light:"#303030",main:"#000",dark:"#303030",contrastText:"#ffa600"},secondary:{light:"#fff",main:"#ffa600",dark:"#fff",contrastText:"#fff"}}}),J=n(119),M=n(116),P=n(62),W=n.n(P),q=n(61),z=n.n(q),H=function(e,t){return String(e).padStart(t,"0")},R=function(e){if(null===e)return 0;for(var t=e.split(":"),n=0,c=1,a=0;a<t.length;a++)n+=parseInt(t[t.length-1-a])*c,c*=60;return n},K=n(44),G=n(45),Q=new(function(){function e(t){Object(K.a)(this,e),this.url=void 0,this.cache=void 0,this.url=t,this.cache={}}return Object(G.a)(e,[{key:"getInfo",value:function(e){return this.cache[e]}},{key:"getAudio",value:function(e){var t="".concat(this.url,"/stream?vid=").concat(e);return new Audio(t)}},{key:"search",value:function(){var e=Object(l.a)(o.a.mark((function e(t){var n,c,a,i=this;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.split(" ").join("+"),e.prev=1,e.next=4,fetch("".concat(_,"/search?q=").concat(n));case 4:return c=e.sent,e.next=7,c.json();case 7:return(a=e.sent).items.forEach((function(e){"video"===e.type&&(i.cache[e.id]=e)})),e.abrupt("return",a);case 12:return e.prev=12,e.t0=e.catch(1),e.abrupt("return",null);case 15:case"end":return e.stop()}}),e,null,[[1,12]])})));return function(t){return e.apply(this,arguments)}}()},{key:"searchContinue",value:function(){var e=Object(l.a)(o.a.mark((function e(t){var n,c,a=this;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("".concat(_,"/search"),{method:"post",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)});case 3:return n=e.sent,e.next=6,n.json();case 6:return(c=e.sent).items.forEach((function(e){"video"===e.type&&(a.cache[e.id]=e)})),e.abrupt("return",c);case 11:return e.prev=11,e.t0=e.catch(0),e.abrupt("return",null);case 14:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(t){return e.apply(this,arguments)}}()}]),e}())(_);window.api=Q;var U=new(function(){function e(t,n){Object(K.a)(this,e),this.videoIds=void 0,this.current=void 0,this.api=void 0,this.videoIds=n||[],this.current=-1,this.api=t,this.add=this.add.bind(this),this.next=this.next.bind(this)}return Object(G.a)(e,[{key:"add",value:function(e){this.videoIds.push(e)}},{key:"playlistVideos",get:function(){var e=this;return this.videoIds.map((function(t){return e.api.getInfo(t)}))}},{key:"setCurByVid",value:function(e){var t=this.videoIds.indexOf(e);if(-1!==t)return this.current=t,this.current}},{key:"next",value:function(){if(this.current<this.videoIds.length-1)return this.current+=1,this.current}},{key:"suggest",value:function(){}}]),e}())(Q),X=n(58),Y=n.n(X),Z=n(57),$=n.n(Z),ee=n(59),te=n.n(ee),ne=function(e){var t,n=e.videoDetails,a=e.onVideoEnd,i=e.onVideoStart,r=e.autoplay,s=e.setAutoplay,o=Object(c.useState)(!1),l=Object(u.a)(o,2),j=l[0],b=l[1],f=Object(c.useState)(null),O=Object(u.a)(f,2),v=O[0],p=O[1],x=Object(c.useState)(0),y=Object(u.a)(x,2),m=y[0],k=y[1],C=Object(c.useRef)(null),w=Object(c.useCallback)((function(){if(v!==n.id){p(n.id),C.current&&(C.current.pause(),C.current.currentTime=0);var e=Q.getAudio(n.id);e.addEventListener("timeupdate",(function(){k(Math.round(e.currentTime))})),e.addEventListener("ended",(function(){b(!1),a&&a()})),e.addEventListener("pause",(function(){b(!1)})),e.addEventListener("play",(function(){b(!0),i&&i()})),C.current=e,r&&e.play()}}),[n,a,i,r,v]);Object(c.useEffect)((function(){w()}),[w]);var S,V=Object(c.useCallback)((function(){var e=document.createElement("a");e.href="".concat(_,"/download?vid=").concat(n.id),e.target="_blank",e.click()}),[n]),N=Object(c.useCallback)((function(){C.current&&(j?C.current.pause():C.current.play())}),[j]),I=Object(c.useCallback)((function(e,t){C.current&&(C.current.currentTime=t)}),[]),E=Object(c.useCallback)((function(){s(!r)}),[r,s]);return Object(h.jsxs)("div",{style:{width:"100%",background:"#000",color:"#fff",display:"flex",flexDirection:"column",boxShadow:"0px 0px 4px rgba(0,0,0,0.5)"},children:[Object(h.jsxs)("div",{style:{display:"flex",flexDirection:"row",alignItems:"center"},children:[Object(h.jsx)("span",{style:{margin:5,marginRight:15},children:(S=m,"".concat(H(Math.floor(S/60),2),":").concat(H(S%60,2)))}),Object(h.jsx)(J.a,{color:"secondary",onChange:I,max:R(n.duration),min:0,value:m}),Object(h.jsx)("span",{style:{margin:5,marginLeft:15},children:n.duration})]}),Object(h.jsxs)("div",{style:{display:"flex",flexDirection:"row",alignItems:"center"},children:[Object(h.jsx)(d.a,{onClick:N,color:"secondary",children:j?Object(h.jsx)($.a,{}):Object(h.jsx)(Y.a,{})}),Object(h.jsx)(d.a,{onClick:V,color:"secondary",children:Object(h.jsx)(te.a,{})}),Object(h.jsx)(M.a,{title:"autoplay",children:Object(h.jsx)(d.a,{onClick:E,color:"secondary",children:r?Object(h.jsx)(z.a,{}):Object(h.jsx)(W.a,{})})}),Object(h.jsxs)("div",{style:{display:"flex",flexDirection:"column",justifyContent:"center",marginLeft:5,overflow:"hidden",textOverflow:"ellipsis"},children:[Object(h.jsx)(g.a,{variant:"subtitle1",noWrap:!0,children:n.title}),Object(h.jsx)(g.a,{variant:"subtitle2",style:{color:"silver"},noWrap:!0,children:null===(t=n.author)||void 0===t?void 0:t.name})]})]})]})},ce=n(63),ae=n.n(ce),ie=(n(87),function(e){var t=e.video,n=e.setVideo,a=e.playing,i=t.title,r=t.author,s=t.bestThumbnail.url,o=Object(c.useCallback)((function(){n(t.id)}),[t,n]);return Object(h.jsxs)("div",{className:Object(E.a)("play-list-item-container",{playing:a}),children:[s&&Object(h.jsx)("img",{src:s,alt:"thumbnail",loading:"lazy"}),Object(h.jsxs)("div",{className:"content",children:[Object(h.jsx)("div",{className:"title",children:i}),Object(h.jsx)("div",{className:"subtitle",children:null===r||void 0===r?void 0:r.name})]}),Object(h.jsx)(d.a,{className:Object(E.a)("icon",{playing:a}),onClick:o,color:"secondary",children:Object(h.jsx)(ae.a,{})})]})}),re=function(e){var t=e.playlistVideos,n=e.currentIndex,a=e.onVideoEnd,i=e.onVideoStart,r=e.playVideo,s=e.onAdd,j=e.autoplay,b=e.setAutoplay,f=Object(c.useState)(!1),p=Object(u.a)(f,2),x=p[0],y=p[1],m=Object(c.useCallback)((function(){y(!x)}),[x]);return-1!==n?Object(h.jsxs)("div",{className:Object(E.a)("playlist",{open:x}),children:[Object(h.jsxs)("div",{className:"top-section",children:[Object(h.jsx)("div",{className:"player-container",children:n>=t.length?Object(h.jsx)(O.a,{}):Object(h.jsx)(ne,{autoplay:j,setAutoplay:b,videoDetails:t[n],onVideoEnd:a,onVideoStart:i})}),Object(h.jsx)(d.a,{onClick:m,color:"secondary",children:x?Object(h.jsx)(D.a,{}):Object(h.jsx)(A.a,{})})]}),Object(h.jsxs)("div",{className:"lists-container",children:[Object(h.jsx)("div",{className:Object(E.a)("list"),children:t.map((function(e,t){return Object(h.jsx)(ie,{video:e,setVideo:function(){return r(t)},playing:t===n},"playlist".concat(t))}))}),Object(h.jsx)(g.a,{className:Object(E.a)("divider"),variant:"h5",component:"h5",children:"Suggested"}),n<t.length&&Object(h.jsx)(v,{className:Object(E.a)("list"),videos:[],setVideo:s,loadVideos:Object(l.a)(o.a.mark((function e(){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})))})]})]}):null},se=n(114);var oe=function(){var e=Object(c.useState)([]),t=Object(u.a)(e,2),n=t[0],a=t[1],i=Object(c.useState)(!0),r=Object(u.a)(i,2),s=r[0],d=r[1],j=Object(c.useState)(!0),b=Object(u.a)(j,2),f=b[0],p=b[1],x=Object(c.useState)(!1),y=Object(u.a)(x,2),m=y[0],g=y[1],k=Object(c.useState)([]),C=Object(u.a)(k,2),w=C[0],S=C[1],V=Object(c.useState)(null),N=Object(u.a)(V,2),E=N[0],T=N[1],A=Object(c.useState)(-1),L=Object(u.a)(A,2),D=L[0],B=L[1],_=Object(c.useState)(""),J=Object(u.a)(_,2),M=J[0],P=J[1],W=Object(c.useCallback)((function(e){var t=e.target.value;P(t)}),[]),q=Object(c.useCallback)((function(){(function(){var e=Object(l.a)(o.a.mark((function e(){var t;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,g(!0),e.next=4,Q.search(M);case 4:(t=e.sent)?(a(t.items.filter((function(e){return"video"===e.type}))),T(t.continuation)):a([]),g(!1),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),console.log(e.t0);case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(){return e.apply(this,arguments)}})()()}),[M]),z=Object(c.useCallback)((function(e){if(U.add(e),S(U.playlistVideos),s&&f){d(!1);var t=U.setCurByVid(e);void 0!==t&&B(t)}}),[s,f]);Object(c.useEffect)((function(){if(s&&f&&U.playlistVideos.length>0){var e=U.next();if(void 0!==e)return B(e);var t=U.suggest();t&&z(t)}}),[s,f,z]);var H=Object(c.useCallback)((function(){d(!0)}),[]),R=Object(c.useCallback)((function(){d(!1)}),[]),K=Object(c.useCallback)((function(e){U.current=e,B(e)}),[]),G=Object(c.useCallback)(Object(l.a)(o.a.mark((function e(){var t,c;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null!==E){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,Q.searchContinue(E);case 4:(t=e.sent)&&(c=t.items.filter((function(e){return"video"===e.type})),a(n.concat(c)),T(t.continuation));case 6:case"end":return e.stop()}}),e)}))),[E,n]);return Object(h.jsx)(se.a,{theme:F,children:Object(h.jsxs)("div",{className:"background",style:{height:"100vh",overflow:"hidden"},children:[Object(h.jsx)(I,{onChange:W,onSubmit:q}),m?Object(h.jsx)(O.a,{}):Object(h.jsx)(v,{className:"video-list",spaceBottom:!0,videos:n,setVideo:z,loadVideos:G}),Object(h.jsx)(re,{autoplay:f,setAutoplay:p,playVideo:K,onAdd:z,playlistVideos:w,currentIndex:D,onVideoEnd:H,onVideoStart:R})]})})},le=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,120)).then((function(t){var n=t.getCLS,c=t.getFID,a=t.getFCP,i=t.getLCP,r=t.getTTFB;n(e),c(e),a(e),i(e),r(e)}))};r.a.render(Object(h.jsx)(a.a.StrictMode,{children:Object(h.jsx)(oe,{})}),document.getElementById("root")),le()}},[[88,1,2]]]);
//# sourceMappingURL=main.d270afef.chunk.js.map