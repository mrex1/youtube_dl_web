(this.webpackJsonpyoutube_dl_web=this.webpackJsonpyoutube_dl_web||[]).push([[0],{76:function(e,t,n){},78:function(e,t,n){},81:function(e,t,n){},86:function(e,t,n){},87:function(e,t,n){},88:function(e,t,n){},90:function(e,t,n){},91:function(e,t,n){"use strict";n.r(t);var c=n(0),a=n.n(c),i=n(14),r=n.n(i),s=(n(76),n(12)),o=n.n(s),u=n(19),l=n(9),d=(n(78),function(e,t){return String(e).padStart(t,"0")}),j=function(e){if(null===e)return 0;for(var t=e.split(":"),n=0,c=1,a=0;a<t.length;a++)n+=parseInt(t[t.length-1-a])*c,c*=60;return n},b=function(e){return e.thumbnail},h=n(119),O=n(49),f=n(28),v=n(29),p=n(68),x="https://zb3ad4304-gtw.qovery.io",y=Object(p.a)({palette:{primary:{light:"#303030",main:"#000",dark:"#303030",contrastText:"#ffa600"},secondary:{light:"#fff",main:"#ffa600",dark:"#fff",contrastText:"#fff"}}}),m=new(function(){function e(t){Object(f.a)(this,e),this.url=void 0,this.cache=void 0,this.suggestionsCache=void 0,this.url=t,this.cache={},this.suggestionsCache={}}return Object(v.a)(e,[{key:"getYoutubeLink",value:function(e){return"https://youtu.be/".concat(e)}},{key:"getInfo",value:function(e){return this.cache[e]}},{key:"getAudioURL",value:function(e){return"".concat(this.url,"/stream/v2?vid=").concat(e)}},{key:"getAudioDownloadLink",value:function(e){var t=document.createElement("a");return t.href="".concat(this.url,"/download?vid=").concat(e),t.target="_blank",t}},{key:"suggest",value:function(){var e=Object(u.a)(o.a.mark((function e(t){var n,c,a=this;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(t in this.suggestionsCache)){e.next=2;break}return e.abrupt("return",this.suggestionsCache[t]);case 2:return e.prev=2,e.next=5,fetch("".concat(x,"/suggest?vid=").concat(t));case 5:return n=e.sent,e.next=8,n.json();case 8:return(c=e.sent).forEach((function(e){e.id in a.cache||(a.cache[e.id]=e)})),this.suggestionsCache[t]=c,e.abrupt("return",c);case 14:return e.prev=14,e.t0=e.catch(2),e.abrupt("return",null);case 17:case"end":return e.stop()}}),e,this,[[2,14]])})));return function(t){return e.apply(this,arguments)}}()},{key:"search",value:function(){var e=Object(u.a)(o.a.mark((function e(t){var n,c,a,i=this;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=encodeURIComponent(t.replace(" ","+")),e.prev=1,e.next=4,fetch("".concat(x,"/search?q=").concat(n));case 4:return c=e.sent,e.next=7,c.json();case 7:return(a=e.sent).items.forEach((function(e){"video"===e.type&&(i.cache[e.id]=e)})),e.abrupt("return",a);case 12:return e.prev=12,e.t0=e.catch(1),e.abrupt("return",null);case 15:case"end":return e.stop()}}),e,null,[[1,12]])})));return function(t){return e.apply(this,arguments)}}()},{key:"searchContinue",value:function(){var e=Object(u.a)(o.a.mark((function e(t){var n,c,a=this;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("".concat(x,"/search"),{method:"post",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)});case 3:return n=e.sent,e.next=6,n.json();case 6:return(c=e.sent).items.forEach((function(e){"video"===e.type&&(a.cache[e.id]=e)})),e.abrupt("return",c);case 11:return e.prev=11,e.t0=e.catch(0),e.abrupt("return",null);case 14:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(t){return e.apply(this,arguments)}}()}]),e}())(x),g=new(function(){function e(t,n){Object(f.a)(this,e),this.videoIds=void 0,this.current=void 0,this.api=void 0,this.videoIds=n||[],this.current=-1,this.api=t,this.add=this.add.bind(this),this.next=this.next.bind(this)}return Object(v.a)(e,[{key:"add",value:function(e){-1===this.videoIds.indexOf(e)&&this.videoIds.push(e)}},{key:"playlistVideos",get:function(){var e=this;return this.videoIds.map((function(t){return e.api.getInfo(t)}))}},{key:"setCurByVid",value:function(e){var t=this.videoIds.indexOf(e);if(-1!==t)return this.current=t,this.current}},{key:"next",value:function(){if(this.current<this.videoIds.length-1)return this.current+=1,this.current}},{key:"suggest",value:function(){var e=Object(u.a)(o.a.mark((function e(){var t,n,c,a,i;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.videoIds[this.current],e.next=3,this.api.suggest(t);case 3:if(!(n=e.sent)){e.next=23;break}c=Object(O.a)(n),e.prev=6,c.s();case 8:if((a=c.n()).done){e.next=15;break}if(i=a.value,!(-1===this.videoIds.indexOf(i.id))){e.next=13;break}return e.abrupt("return",i.id);case 13:e.next=8;break;case 15:e.next=20;break;case 17:e.prev=17,e.t0=e.catch(6),c.e(e.t0);case 20:return e.prev=20,c.f(),e.finish(20);case 23:case"end":return e.stop()}}),e,this,[[6,17,20,23]])})));return function(){return e.apply(this,arguments)}}()}]),e}())(m),k=new(function(){function e(t,n){Object(f.a)(this,e),this.audio=void 0,this.vid=void 0,this.api=void 0,this.api=t,this.audio=new Audio,n&&this.updateAudio(n)}return Object(v.a)(e,[{key:"updateAudio",value:function(e){if(e!==this.vid){this.vid=e;var t=this.api.getAudioURL(e);this.audio.src=t}}}]),e}())(m),C=n(55),S=n.n(C),w=Object(c.createContext)({videos:[]}),N=Object(c.createContext)({playVideo:function(){},addToPlaylist:function(){}}),V=Object(c.createContext)({autoplay:!0,setAutoplay:function(){}}),I=Object(c.createContext)({onVideoEnd:function(){},onVideoStart:function(){}}),T=(n(81),n(2)),E=function(e){var t=e.video,n=t.title,a=t.id,i=b(t)?t.thumbnail.url:t.bestThumbnail.url,r=Object(c.useContext)(N).addToPlaylist,s=Object(c.useCallback)((function(){r(t.id)}),[t,r]);return Object(T.jsxs)("div",{className:"video-list-item-container",children:[i&&Object(T.jsx)("img",{src:i,alt:"thumbnail",loading:"lazy"}),Object(T.jsxs)("div",{className:"content",children:[Object(T.jsx)("div",{className:"title",children:n}),Object(T.jsx)("a",{className:"subtitle",href:m.getYoutubeLink(a),target:"_blank",rel:"noreferrer",children:"Open in YouTube"})]}),Object(T.jsx)(h.a,{onClick:s,color:"secondary",children:Object(T.jsx)(S.a,{})})]})},A=n(114),P=function(e){var t=e.className,n=e.spaceBottom,a=e.loadVideos,i=Object(c.useState)(!1),r=Object(l.a)(i,2),s=r[0],o=r[1],u=Object(c.useContext)(w).videos,d=Object(c.useCallback)((function(e){var t=e.currentTarget;a&&!s&&t.scrollHeight-t.offsetHeight-t.scrollTop<2&&(o(!0),a().then((function(){return o(!1)})))}),[a,s]);return Object(T.jsxs)("div",{className:t,onScroll:d,children:[u.map((function(e){return Object(T.jsx)(E,{video:e},e.id)})),s&&Object(T.jsx)(A.a,{}),n&&Object(T.jsx)("div",{style:{height:100}})]})},L=n(122),B=n(115),_=n(121),D=n(116),z=n(93),F=n(57),M=n.n(F),J=n(56),R=n.n(J),U=n(58),W=n.n(U),Y=(n(86),function(e){var t=e.onChange,n=e.onSubmit,a=Object(c.useState)(""),i=Object(l.a)(a,2),r=i[0],s=i[1],o=Object(c.useState)(!1),u=Object(l.a)(o,2),d=u[0],j=u[1],b=Object(c.useCallback)((function(e){13===e.charCode&&(n(),e.target.blur())}),[n]),O=Object(c.useCallback)((function(e){s(e.target.value),t(e)}),[t]),f=Object(c.useCallback)((function(){s("")}),[]),v=Object(c.useCallback)((function(){j(!1)}),[]),p=Object(c.useCallback)((function(){j(!0)}),[]);return Object(T.jsx)(L.a,{position:"static",children:d?Object(T.jsxs)(B.a,{children:[Object(T.jsx)(h.a,{color:"secondary",edge:"start",onClick:v,children:Object(T.jsx)(R.a,{})}),Object(T.jsx)(_.a,{color:"secondary",style:{color:"white"},placeholder:"Search",value:r,onChange:O,onKeyPress:b,fullWidth:!0,endAdornment:Object(T.jsx)(D.a,{position:"end",children:Object(T.jsx)(h.a,{"aria-label":"clear input",color:"secondary",onClick:f,children:Object(T.jsx)(M.a,{})})})})]}):Object(T.jsxs)(B.a,{children:[Object(T.jsx)(z.a,{style:{flex:1},children:"ListenTube"}),Object(T.jsx)(h.a,{color:"secondary",onClick:p,children:Object(T.jsx)(W.a,{})})]})})}),q=n(3),H=(n(87),n(67)),K=n.n(H),G=n(66),Q=n.n(G),X=n(123),Z=n(117),$=n(120),ee=n(64),te=n.n(ee),ne=n(63),ce=n.n(ne),ae=n(60),ie=n.n(ae),re=n(59),se=n.n(re),oe=n(61),ue=n.n(oe),le=(n(88),function(e){var t,n=e.videoDetails,a=Object(c.useState)(!1),i=Object(l.a)(a,2),r=i[0],s=i[1],o=Object(c.useState)(null),u=Object(l.a)(o,2),b=u[0],O=u[1],f=Object(c.useState)(!1),v=Object(l.a)(f,2),p=v[0],x=v[1],y=Object(c.useState)(0),g=Object(l.a)(y,2),C=g[0],S=g[1],w=Object(c.useContext)(V),N=w.autoplay,E=w.setAutoplay,A=Object(c.useContext)(I),P=A.onVideoEnd,L=A.onVideoStart;Object(c.useEffect)((function(){k.audio.ontimeupdate=function(){return S(Math.ceil(k.audio.currentTime))},k.audio.onpause=function(){return s(!1)},k.audio.onloadeddata=function(){return x(!1)},k.audio.onloadstart=function(){return x(!0)}}),[]),Object(c.useEffect)((function(){k.audio.onplay=function(){s(!0),L&&L()},k.audio.onended=function(){s(!1),P&&P()}}),[L,P]);var B=Object(c.useCallback)((function(e){O(e.id),k.updateAudio(e.id),S(0),N&&k.audio.play().catch(console.log)}),[N]);Object(c.useEffect)((function(){b!==n.id&&B(n)}),[B,b,n]);var _,D=Object(c.useCallback)((function(){m.getAudioDownloadLink(n.id).click()}),[n]),F=Object(c.useCallback)((function(){r?k.audio.pause():k.audio.play()}),[r]),M=Object(c.useCallback)((function(e,t){k.audio.currentTime=t}),[]),J=Object(c.useCallback)((function(){E(!N)}),[N,E]);return Object(T.jsxs)("div",{className:"player-container",children:[Object(T.jsxs)("div",{className:"player-progress-container",children:[Object(T.jsx)("span",{className:"player-current-time",children:(_=C,_=Math.ceil(_),"".concat(d(Math.floor(_/60),2),":").concat(d(_%60,2)))}),Object(T.jsx)(X.a,{color:"secondary",onChange:M,max:j(n.duration),min:0,value:C}),Object(T.jsx)("span",{className:"player-end-time",children:n.duration})]}),Object(T.jsxs)("div",{className:"player-bottom-container",children:[p?Object(T.jsx)("div",{style:{padding:12},children:Object(T.jsx)(Z.a,{color:"secondary",size:22})}):Object(T.jsx)(h.a,{onClick:F,color:"secondary",children:r?Object(T.jsx)(se.a,{}):Object(T.jsx)(ie.a,{})}),Object(T.jsx)(h.a,{onClick:D,color:"secondary",children:Object(T.jsx)(ue.a,{})}),Object(T.jsx)($.a,{title:"autoplay",children:Object(T.jsx)(h.a,{onClick:J,color:"secondary",children:N?Object(T.jsx)(ce.a,{}):Object(T.jsx)(te.a,{})})}),Object(T.jsxs)("div",{className:"player-details-container",children:[Object(T.jsx)(z.a,{variant:"subtitle1",noWrap:!0,children:n.title}),Object(T.jsx)(z.a,{variant:"subtitle2",style:{color:"silver"},noWrap:!0,children:null===(t=n.author)||void 0===t?void 0:t.name})]})]})]})}),de=n(65),je=n.n(de),be=(n(90),function(e){var t=e.video,n=e.playing,c=e.playVideo,a=t.title,i=t.author,r=b(t)?t.thumbnail.url:t.bestThumbnail.url;return Object(T.jsxs)("div",{className:Object(q.a)("play-list-item-container",{playing:n}),children:[r&&Object(T.jsx)("img",{src:r,alt:"thumbnail",loading:"lazy"}),Object(T.jsxs)("div",{className:"content",children:[Object(T.jsx)("div",{className:"title",children:a}),Object(T.jsx)("div",{className:"subtitle",children:null===i||void 0===i?void 0:i.name})]}),Object(T.jsx)(h.a,{className:Object(q.a)("icon",{playing:n}),onClick:c,color:"secondary",children:Object(T.jsx)(je.a,{})})]})}),he=function(e){var t=e.playlistVideos,n=e.currentIndex,a=Object(c.useState)(!1),i=Object(l.a)(a,2),r=i[0],s=i[1],d=Object(c.useState)([]),j=Object(l.a)(d,2),b=j[0],O=j[1],f=Object(c.useState)(!1),v=Object(l.a)(f,2),p=v[0],x=v[1],y=Object(c.useState)(null),g=Object(l.a)(y,2),k=g[0],C=g[1],S=Object(c.useContext)(N).playVideo,V=Object(c.useCallback)((function(){s(!r)}),[r]),I=Object(c.useCallback)(function(){var e=Object(u.a)(o.a.mark((function e(t){var n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return x(!0),e.next=3,m.suggest(t);case 3:n=e.sent,O(n||[]),x(!1);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),[]);return Object(c.useEffect)((function(){k&&I(k)}),[k,I]),Object(c.useEffect)((function(){var e;C(null===(e=t[n])||void 0===e?void 0:e.id)}),[n,t]),Object(T.jsx)(w.Provider,{value:{videos:b},children:Object(T.jsxs)("div",{className:Object(q.a)("playlist",{open:r}),children:[Object(T.jsxs)("div",{className:"top-section",children:[Object(T.jsx)("div",{className:"player-container",children:n>=t.length?Object(T.jsx)(A.a,{}):Object(T.jsx)(le,{videoDetails:t[n]})}),Object(T.jsx)(h.a,{onClick:V,color:"secondary",children:r?Object(T.jsx)(Q.a,{}):Object(T.jsx)(K.a,{})})]}),Object(T.jsxs)("div",{className:"lists-container",children:[Object(T.jsx)("div",{className:Object(q.a)("list"),children:t.map((function(e,t){return Object(T.jsx)(be,{video:e,playVideo:function(){return S(t)},playing:t===n},"playlist".concat(t))}))}),Object(T.jsx)(z.a,{className:Object(q.a)("divider"),variant:"h5",component:"h5",children:"Suggested"}),p?Object(T.jsx)("div",{style:{paddingTop:30,paddingBottom:30},children:Object(T.jsx)(A.a,{})}):Object(T.jsx)(P,{className:Object(q.a)("list")})]})]})})},Oe=n(118);var fe=function(){var e=Object(c.useState)([]),t=Object(l.a)(e,2),n=t[0],a=t[1],i=Object(c.useState)(!0),r=Object(l.a)(i,2),s=r[0],d=r[1],j=Object(c.useState)(!0),b=Object(l.a)(j,2),h=b[0],O=b[1],f=Object(c.useState)(!1),v=Object(l.a)(f,2),p=v[0],x=v[1],k=Object(c.useState)([]),C=Object(l.a)(k,2),S=C[0],E=C[1],L=Object(c.useState)(null),B=Object(l.a)(L,2),_=B[0],D=B[1],z=Object(c.useState)(null),F=Object(l.a)(z,2),M=F[0],J=F[1],R=Object(c.useState)(""),U=Object(l.a)(R,2),W=U[0],q=U[1],H=Object(c.useCallback)((function(e){var t=e.target.value;q(t)}),[]),K=Object(c.useCallback)(Object(u.a)(o.a.mark((function e(){var t;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return x(!0),e.prev=1,e.next=4,m.search(W);case 4:(t=e.sent)?(a(t.items.filter((function(e){return"video"===e.type}))),D(t.continuation)):a([]),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),console.log(e.t0);case 11:x(!1);case 12:case"end":return e.stop()}}),e,null,[[1,8]])}))),[W]),G=Object(c.useCallback)((function(e){g.add(e),E(g.playlistVideos)}),[]),Q=Object(c.useCallback)(Object(u.a)(o.a.mark((function e(){var t;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,g.suggest();case 2:(t=e.sent)&&G(t);case 4:case"end":return e.stop()}}),e)}))),[G]);Object(c.useEffect)((function(){if(s&&h&&S.length>0){var e=g.next();void 0===e?Q():J(e)}}),[s,h,S,Q]);var X=Object(c.useCallback)((function(){d(!0)}),[]),Z=Object(c.useCallback)((function(){d(!1)}),[]),$=Object(c.useCallback)((function(e){g.current=e,J(e)}),[]),ee=Object(c.useCallback)(Object(u.a)(o.a.mark((function e(){var t,c;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null!==_){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,m.searchContinue(_);case 4:(t=e.sent)&&(c=t.items.filter((function(e){return"video"===e.type})),a(n.concat(c)),D(t.continuation));case 6:case"end":return e.stop()}}),e)}))),[_,n]);return Object(T.jsx)(N.Provider,{value:{addToPlaylist:G,playVideo:$},children:Object(T.jsx)(I.Provider,{value:{onVideoEnd:X,onVideoStart:Z},children:Object(T.jsx)(w.Provider,{value:{videos:n},children:Object(T.jsx)(V.Provider,{value:{autoplay:h,setAutoplay:O},children:Object(T.jsx)(Oe.a,{theme:y,children:Object(T.jsxs)("div",{className:"background",children:[Object(T.jsx)(Y,{onChange:H,onSubmit:K}),p?Object(T.jsx)(A.a,{}):Object(T.jsx)(P,{className:"video-list",spaceBottom:!0,loadVideos:ee}),null!==M&&Object(T.jsx)(he,{playlistVideos:S,currentIndex:M})]})})})})})})},ve=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,124)).then((function(t){var n=t.getCLS,c=t.getFID,a=t.getFCP,i=t.getLCP,r=t.getTTFB;n(e),c(e),a(e),i(e),r(e)}))};r.a.render(Object(T.jsx)(a.a.StrictMode,{children:Object(T.jsx)(fe,{})}),document.getElementById("root")),ve()}},[[91,1,2]]]);
//# sourceMappingURL=main.6ad720a7.chunk.js.map