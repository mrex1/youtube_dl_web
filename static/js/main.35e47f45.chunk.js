(this.webpackJsonpyoutube_dl_web=this.webpackJsonpyoutube_dl_web||[]).push([[0],{76:function(e,t,n){},78:function(e,t,n){},79:function(e,t,n){},86:function(e,t,n){},87:function(e,t,n){},89:function(e,t,n){},90:function(e,t,n){"use strict";n.r(t);var c=n(0),a=n.n(c),r=n(14),i=n.n(r),s=(n(76),n(13)),o=n.n(s),u=n(20),l=n(9),d=(n(78),function(e,t){return String(e).padStart(t,"0")}),b=function(e){if(null===e)return 0;for(var t=e.split(":"),n=0,c=1,a=0;a<t.length;a++)n+=parseInt(t[t.length-1-a])*c,c*=60;return n},j=function(e){return e.thumbnail},h=n(117),f=n(54),O=n.n(f),p=(n(79),n(2)),v=function(e){var t=e.video,n=e.setVideo,a=t.title,r=t.id,i=j(t)?t.thumbnail.url:t.bestThumbnail.url,s=Object(c.useCallback)((function(){n(t.id)}),[t,n]);return Object(p.jsxs)("div",{className:"video-list-item-container",children:[i&&Object(p.jsx)("img",{src:i,alt:"thumbnail",loading:"lazy"}),Object(p.jsxs)("div",{className:"content",children:[Object(p.jsx)("div",{className:"title",children:a}),Object(p.jsx)("div",{className:"subtitle",children:r})]}),Object(p.jsx)(h.a,{onClick:s,color:"secondary",children:Object(p.jsx)(O.a,{})})]})},x=n(113),y=function(e){var t=e.videos,n=e.setVideo,a=e.className,r=e.spaceBottom,i=e.loadVideos,s=Object(c.useState)(!1),o=Object(l.a)(s,2),u=o[0],d=o[1],b=Object(c.useCallback)((function(e){var t=e.currentTarget;i&&!u&&t.scrollHeight-t.offsetHeight-t.scrollTop<2&&(d(!0),i().then((function(){return d(!1)})))}),[i,u]);return Object(p.jsxs)("div",{className:a,onScroll:b,children:[t.map((function(e){return Object(p.jsx)(v,{video:e,setVideo:n},e.id)})),u&&Object(p.jsx)(x.a,{}),r&&Object(p.jsx)("div",{style:{height:100}})]})},g=n(120),m=n(114),k=n(119),C=n(115),w=n(92),S=n(56),V=n.n(S),N=n(55),I=n.n(N),E=n(57),T=n.n(E),A=(n(86),function(e){var t=e.onChange,n=e.onSubmit,a=Object(c.useState)(""),r=Object(l.a)(a,2),i=r[0],s=r[1],o=Object(c.useState)(!1),u=Object(l.a)(o,2),d=u[0],b=u[1],j=Object(c.useCallback)((function(e){13===e.charCode&&(n(),e.target.blur())}),[n]),f=Object(c.useCallback)((function(e){s(e.target.value),t(e)}),[t]),O=Object(c.useCallback)((function(){s("")}),[]),v=Object(c.useCallback)((function(){b(!1)}),[]),x=Object(c.useCallback)((function(){b(!0)}),[]);return Object(p.jsx)(g.a,{position:"static",children:d?Object(p.jsxs)(m.a,{children:[Object(p.jsx)(h.a,{color:"secondary",edge:"start",onClick:v,children:Object(p.jsx)(I.a,{})}),Object(p.jsx)(k.a,{color:"secondary",style:{color:"white"},placeholder:"Search",value:i,onChange:f,onKeyPress:j,fullWidth:!0,endAdornment:Object(p.jsx)(C.a,{position:"end",children:Object(p.jsx)(h.a,{"aria-label":"clear input",color:"secondary",onClick:O,children:Object(p.jsx)(V.a,{})})})})]}):Object(p.jsxs)(m.a,{children:[Object(p.jsx)(w.a,{style:{flex:1},children:"ListenTube"}),Object(p.jsx)(h.a,{color:"secondary",onClick:x,children:Object(p.jsx)(T.a,{})})]})})}),L=n(4),B=(n(87),n(67)),D=n.n(B),_=n(66),F=n.n(_),J=n(68),M="https://main-youtube-shd6uy5b29ceuriw-gtw.qovery.io",P=Object(J.a)({palette:{primary:{light:"#303030",main:"#000",dark:"#303030",contrastText:"#ffa600"},secondary:{light:"#fff",main:"#ffa600",dark:"#fff",contrastText:"#fff"}}}),W=n(121),q=n(118),z=n(64),H=n.n(z),R=n(63),K=n.n(R),G=n(58),Q=n(45),U=n(46),X=new(function(){function e(t){Object(Q.a)(this,e),this.url=void 0,this.cache=void 0,this.suggestionsCache=void 0,this.url=t,this.cache={},this.suggestionsCache={}}return Object(U.a)(e,[{key:"getInfo",value:function(e){return this.cache[e]}},{key:"getAudio",value:function(e){var t="".concat(this.url,"/stream?vid=").concat(e);return new Audio(t)}},{key:"suggest",value:function(){var e=Object(u.a)(o.a.mark((function e(t){var n,c,a=this;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(t in this.suggestionsCache)){e.next=2;break}return e.abrupt("return",this.suggestionsCache[t]);case 2:return e.prev=2,e.next=5,fetch("".concat(M,"/suggest?vid=").concat(t));case 5:return n=e.sent,e.next=8,n.json();case 8:return(c=e.sent).forEach((function(e){e.id in a.cache||(a.cache[e.id]=e)})),this.suggestionsCache[t]=c,e.abrupt("return",c);case 14:return e.prev=14,e.t0=e.catch(2),e.abrupt("return",null);case 17:case"end":return e.stop()}}),e,this,[[2,14]])})));return function(t){return e.apply(this,arguments)}}()},{key:"search",value:function(){var e=Object(u.a)(o.a.mark((function e(t){var n,c,a,r=this;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.split(" ").join("+"),e.prev=1,e.next=4,fetch("".concat(M,"/search?q=").concat(n));case 4:return c=e.sent,e.next=7,c.json();case 7:return(a=e.sent).items.forEach((function(e){"video"===e.type&&(r.cache[e.id]=e)})),e.abrupt("return",a);case 12:return e.prev=12,e.t0=e.catch(1),e.abrupt("return",null);case 15:case"end":return e.stop()}}),e,null,[[1,12]])})));return function(t){return e.apply(this,arguments)}}()},{key:"searchContinue",value:function(){var e=Object(u.a)(o.a.mark((function e(t){var n,c,a=this;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("".concat(M,"/search"),{method:"post",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)});case 3:return n=e.sent,e.next=6,n.json();case 6:return(c=e.sent).items.forEach((function(e){"video"===e.type&&(a.cache[e.id]=e)})),e.abrupt("return",c);case 11:return e.prev=11,e.t0=e.catch(0),e.abrupt("return",null);case 14:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(t){return e.apply(this,arguments)}}()}]),e}())(M),Y=new(function(){function e(t,n){Object(Q.a)(this,e),this.videoIds=void 0,this.current=void 0,this.api=void 0,this.videoIds=n||[],this.current=-1,this.api=t,this.add=this.add.bind(this),this.next=this.next.bind(this)}return Object(U.a)(e,[{key:"add",value:function(e){-1===this.videoIds.indexOf(e)&&this.videoIds.push(e)}},{key:"playlistVideos",get:function(){var e=this;return this.videoIds.map((function(t){return e.api.getInfo(t)}))}},{key:"setCurByVid",value:function(e){var t=this.videoIds.indexOf(e);if(-1!==t)return this.current=t,this.current}},{key:"next",value:function(){var e=Object(u.a)(o.a.mark((function e(){var t;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(this.current<this.videoIds.length-1)){e.next=3;break}return this.current+=1,e.abrupt("return",this.current);case 3:return e.next=5,this.suggest(this.videoIds[this.current]);case 5:if(!(t=e.sent)){e.next=11;break}return this.add(t),e.next=10,this.next();case 10:return e.abrupt("return",e.sent);case 11:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"suggest",value:function(){var e=Object(u.a)(o.a.mark((function e(t){var n,c,a,r;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.api.suggest(t);case 2:if(!(n=e.sent)){e.next=21;break}c=Object(G.a)(n),e.prev=5,c.s();case 7:if((a=c.n()).done){e.next=13;break}if(r=a.value,-1!==this.videoIds.indexOf(r.id)){e.next=11;break}return e.abrupt("return",r.id);case 11:e.next=7;break;case 13:e.next=18;break;case 15:e.prev=15,e.t0=e.catch(5),c.e(e.t0);case 18:return e.prev=18,c.f(),e.finish(18);case 21:case"end":return e.stop()}}),e,this,[[5,15,18,21]])})));return function(t){return e.apply(this,arguments)}}()}]),e}())(X),Z=n(60),$=n.n(Z),ee=n(59),te=n.n(ee),ne=n(61),ce=n.n(ne),ae=function(e){var t,n=e.videoDetails,a=e.onVideoEnd,r=e.onVideoStart,i=e.autoplay,s=e.setAutoplay,o=Object(c.useState)(!1),u=Object(l.a)(o,2),j=u[0],f=u[1],O=Object(c.useState)(null),v=Object(l.a)(O,2),x=v[0],y=v[1],g=Object(c.useState)(0),m=Object(l.a)(g,2),k=m[0],C=m[1],S=Object(c.useRef)(null),V=Object(c.useCallback)((function(){if(x!==n.id){y(n.id),S.current&&(S.current.pause(),C(0));var e=X.getAudio(n.id);e.addEventListener("timeupdate",(function(){e.paused||C(Math.ceil(e.currentTime))})),e.addEventListener("ended",(function(){f(!1),a&&a()})),e.addEventListener("pause",(function(){f(!1)})),e.addEventListener("play",(function(){f(!0),r&&r()})),S.current=e,i&&e.play()}}),[n,a,r,i,x]);Object(c.useEffect)((function(){V()}),[V]);var N,I=Object(c.useCallback)((function(){var e=document.createElement("a");e.href="".concat(M,"/download?vid=").concat(n.id),e.target="_blank",e.click()}),[n]),E=Object(c.useCallback)((function(){S.current&&(j?S.current.pause():S.current.play())}),[j]),T=Object(c.useCallback)((function(e,t){S.current&&(S.current.currentTime=t)}),[]),A=Object(c.useCallback)((function(){s(!i)}),[i,s]);return Object(p.jsxs)("div",{style:{width:"100%",background:"#000",color:"#fff",display:"flex",flexDirection:"column",boxShadow:"0px 0px 4px rgba(0,0,0,0.5)"},children:[Object(p.jsxs)("div",{style:{display:"flex",flexDirection:"row",alignItems:"center"},children:[Object(p.jsx)("span",{style:{margin:5,marginRight:15},children:(N=k,"".concat(d(Math.floor(N/60),2),":").concat(d(N%60,2)))}),Object(p.jsx)(W.a,{color:"secondary",onChange:T,max:b(n.duration),min:0,value:k}),Object(p.jsx)("span",{style:{margin:5,marginLeft:15},children:n.duration})]}),Object(p.jsxs)("div",{style:{display:"flex",flexDirection:"row",alignItems:"center"},children:[Object(p.jsx)(h.a,{onClick:E,color:"secondary",children:j?Object(p.jsx)(te.a,{}):Object(p.jsx)($.a,{})}),Object(p.jsx)(h.a,{onClick:I,color:"secondary",children:Object(p.jsx)(ce.a,{})}),Object(p.jsx)(q.a,{title:"autoplay",children:Object(p.jsx)(h.a,{onClick:A,color:"secondary",children:i?Object(p.jsx)(K.a,{}):Object(p.jsx)(H.a,{})})}),Object(p.jsxs)("div",{style:{display:"flex",flexDirection:"column",justifyContent:"center",marginLeft:5,overflow:"hidden",textOverflow:"ellipsis"},children:[Object(p.jsx)(w.a,{variant:"subtitle1",noWrap:!0,children:n.title}),Object(p.jsx)(w.a,{variant:"subtitle2",style:{color:"silver"},noWrap:!0,children:null===(t=n.author)||void 0===t?void 0:t.name})]})]})]})},re=n(65),ie=n.n(re),se=(n(89),function(e){var t=e.video,n=e.setVideo,a=e.playing,r=t.title,i=t.author,s=j(t)?t.thumbnail.url:t.bestThumbnail.url,o=Object(c.useCallback)((function(){n(t.id)}),[t,n]);return Object(p.jsxs)("div",{className:Object(L.a)("play-list-item-container",{playing:a}),children:[s&&Object(p.jsx)("img",{src:s,alt:"thumbnail",loading:"lazy"}),Object(p.jsxs)("div",{className:"content",children:[Object(p.jsx)("div",{className:"title",children:r}),Object(p.jsx)("div",{className:"subtitle",children:null===i||void 0===i?void 0:i.name})]}),Object(p.jsx)(h.a,{className:Object(L.a)("icon",{playing:a}),onClick:o,color:"secondary",children:Object(p.jsx)(ie.a,{})})]})}),oe=function(e){var t=e.playlistVideos,n=e.currentIndex,a=e.onVideoEnd,r=e.onVideoStart,i=e.playVideo,s=e.onAdd,d=e.autoplay,b=e.setAutoplay,j=Object(c.useState)(!1),f=Object(l.a)(j,2),O=f[0],v=f[1],g=Object(c.useState)([]),m=Object(l.a)(g,2),k=m[0],C=m[1],S=Object(c.useState)(!1),V=Object(l.a)(S,2),N=V[0],I=V[1],E=Object(c.useState)(null),T=Object(l.a)(E,2),A=T[0],B=T[1],_=Object(c.useCallback)((function(){v(!O)}),[O]),J=Object(c.useCallback)(function(){var e=Object(u.a)(o.a.mark((function e(t){var n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return I(!0),e.next=3,X.suggest(t);case 3:n=e.sent,C(n||[]),I(!1);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),[]);return Object(c.useEffect)((function(){A&&J(A)}),[A,J]),Object(c.useEffect)((function(){var e;B(null===(e=t[n])||void 0===e?void 0:e.id)}),[n,t]),-1!==n?Object(p.jsxs)("div",{className:Object(L.a)("playlist",{open:O}),children:[Object(p.jsxs)("div",{className:"top-section",children:[Object(p.jsx)("div",{className:"player-container",children:n>=t.length?Object(p.jsx)(x.a,{}):Object(p.jsx)(ae,{autoplay:d,setAutoplay:b,videoDetails:t[n],onVideoEnd:a,onVideoStart:r})}),Object(p.jsx)(h.a,{onClick:_,color:"secondary",children:O?Object(p.jsx)(F.a,{}):Object(p.jsx)(D.a,{})})]}),Object(p.jsxs)("div",{className:"lists-container",children:[Object(p.jsx)("div",{className:Object(L.a)("list"),children:t.map((function(e,t){return Object(p.jsx)(se,{video:e,setVideo:function(){return i(t)},playing:t===n},"playlist".concat(t))}))}),Object(p.jsx)(w.a,{className:Object(L.a)("divider"),variant:"h5",component:"h5",children:"Suggested"}),N?Object(p.jsx)("div",{style:{paddingTop:30,paddingBottom:30},children:Object(p.jsx)(x.a,{})}):Object(p.jsx)(y,{className:Object(L.a)("list"),videos:k,setVideo:s})]})]}):null},ue=n(116);var le=function(){var e=Object(c.useState)([]),t=Object(l.a)(e,2),n=t[0],a=t[1],r=Object(c.useState)(!0),i=Object(l.a)(r,2),s=i[0],d=i[1],b=Object(c.useState)(!0),j=Object(l.a)(b,2),h=j[0],f=j[1],O=Object(c.useState)(!1),v=Object(l.a)(O,2),g=v[0],m=v[1],k=Object(c.useState)([]),C=Object(l.a)(k,2),w=C[0],S=C[1],V=Object(c.useState)(null),N=Object(l.a)(V,2),I=N[0],E=N[1],T=Object(c.useState)(-1),L=Object(l.a)(T,2),B=L[0],D=L[1],_=Object(c.useState)(""),F=Object(l.a)(_,2),J=F[0],M=F[1],W=Object(c.useCallback)((function(e){var t=e.target.value;M(t)}),[]),q=Object(c.useCallback)((function(){(function(){var e=Object(u.a)(o.a.mark((function e(){var t;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,m(!0),e.next=4,X.search(J);case 4:(t=e.sent)?(a(t.items.filter((function(e){return"video"===e.type}))),E(t.continuation)):a([]),m(!1),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),console.log(e.t0);case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(){return e.apply(this,arguments)}})()()}),[J]),z=Object(c.useCallback)((function(e){if(Y.add(e),S(Y.playlistVideos),s&&h){d(!1);var t=Y.setCurByVid(e);void 0!==t&&D(t)}}),[s,h]);Object(c.useEffect)((function(){s&&h&&Y.playlistVideos.length>0&&Y.next().then((function(e){void 0!==e&&(S(Y.playlistVideos),D(e))}))}),[s,h,z]);var H=Object(c.useCallback)((function(){d(!0)}),[]),R=Object(c.useCallback)((function(){d(!1)}),[]),K=Object(c.useCallback)((function(e){Y.current=e,D(e)}),[]),G=Object(c.useCallback)(Object(u.a)(o.a.mark((function e(){var t,c;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null!==I){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,X.searchContinue(I);case 4:(t=e.sent)&&(c=t.items.filter((function(e){return"video"===e.type})),a(n.concat(c)),E(t.continuation));case 6:case"end":return e.stop()}}),e)}))),[I,n]);return Object(p.jsx)(ue.a,{theme:P,children:Object(p.jsxs)("div",{className:"background",style:{height:"100vh",overflow:"hidden"},children:[Object(p.jsx)(A,{onChange:W,onSubmit:q}),g?Object(p.jsx)(x.a,{}):Object(p.jsx)(y,{className:"video-list",spaceBottom:!0,videos:n,setVideo:z,loadVideos:G}),Object(p.jsx)(oe,{autoplay:h,setAutoplay:f,playVideo:K,onAdd:z,playlistVideos:w,currentIndex:B,onVideoEnd:H,onVideoStart:R})]})})},de=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,122)).then((function(t){var n=t.getCLS,c=t.getFID,a=t.getFCP,r=t.getLCP,i=t.getTTFB;n(e),c(e),a(e),r(e),i(e)}))};i.a.render(Object(p.jsx)(a.a.StrictMode,{children:Object(p.jsx)(le,{})}),document.getElementById("root")),de()}},[[90,1,2]]]);
//# sourceMappingURL=main.35e47f45.chunk.js.map